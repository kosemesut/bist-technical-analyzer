<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRMET - Teknik Analiz</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <style>
        body { margin: 0; padding: 20px; background: #f5f5f5; font-family: 'Segoe UI', Arial, sans-serif; }
        .chart-container { background: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        h2 { margin: 0 0 20px 0; color: #1a1a1a; font-size: 24px; }
    </style>
</head>
<body>
    <div class="chart-container">
        <h2>ðŸ“Š TRMET - Teknik Analiz GrafiÄŸi</h2>
        <div id="chart" style="width:100%; height:800px;"></div>
    </div>
    <script>
        // Data preparation
        var dates = ['2026-01-08 14:30', '2026-01-09 06:30', '2026-01-09 07:30', '2026-01-09 08:30', '2026-01-09 09:30', '2026-01-09 10:30', '2026-01-09 11:30', '2026-01-09 12:30', '2026-01-09 13:30', '2026-01-09 14:30', '2026-01-12 06:30', '2026-01-12 07:30', '2026-01-12 08:30', '2026-01-12 09:30', '2026-01-12 10:30', '2026-01-12 11:30', '2026-01-12 12:30', '2026-01-12 13:30', '2026-01-12 14:30', '2026-01-13 06:30', '2026-01-13 07:30', '2026-01-13 08:30', '2026-01-13 09:30', '2026-01-13 10:30', '2026-01-13 11:30', '2026-01-13 12:30', '2026-01-13 13:30', '2026-01-13 14:30', '2026-01-14 06:30', '2026-01-14 07:30', '2026-01-14 08:30', '2026-01-14 09:30', '2026-01-14 10:30', '2026-01-14 11:30', '2026-01-14 12:30', '2026-01-14 13:30', '2026-01-14 14:30', '2026-01-15 06:30', '2026-01-15 07:30', '2026-01-15 08:30', '2026-01-15 09:30', '2026-01-15 10:30', '2026-01-15 11:30', '2026-01-15 12:30', '2026-01-15 13:30', '2026-01-15 14:30', '2026-01-16 06:30', '2026-01-16 07:30', '2026-01-16 08:30', '2026-01-16 09:30', '2026-01-16 10:30', '2026-01-16 11:30', '2026-01-16 12:30', '2026-01-16 13:30', '2026-01-16 14:30', '2026-01-19 06:30', '2026-01-19 07:30', '2026-01-19 08:30', '2026-01-19 09:30', '2026-01-19 10:30', '2026-01-19 11:30', '2026-01-19 12:30', '2026-01-19 13:30', '2026-01-19 14:30', '2026-01-20 06:30', '2026-01-20 07:30', '2026-01-20 08:30', '2026-01-20 09:30', '2026-01-20 10:30', '2026-01-20 11:30', '2026-01-20 12:30', '2026-01-20 13:30', '2026-01-20 14:30', '2026-01-21 06:30', '2026-01-21 07:30', '2026-01-21 08:30', '2026-01-21 09:30', '2026-01-21 10:30', '2026-01-21 11:30', '2026-01-21 12:30', '2026-01-21 13:30', '2026-01-21 14:30', '2026-01-22 06:30', '2026-01-22 07:30', '2026-01-22 08:30', '2026-01-22 09:30', '2026-01-22 10:30', '2026-01-22 11:30', '2026-01-22 12:30', '2026-01-22 13:30', '2026-01-22 14:30', '2026-01-23 06:30', '2026-01-23 07:30', '2026-01-23 08:30', '2026-01-23 09:30', '2026-01-23 10:30', '2026-01-23 11:30', '2026-01-23 12:30', '2026-01-23 13:30', '2026-01-23 14:30', '2026-01-26 06:30', '2026-01-26 07:30', '2026-01-26 08:30', '2026-01-26 09:30', '2026-01-26 10:30', '2026-01-26 11:30', '2026-01-26 12:30', '2026-01-26 13:30', '2026-01-26 14:30', '2026-01-27 06:30', '2026-01-27 07:30', '2026-01-27 08:30', '2026-01-27 09:30', '2026-01-27 10:30', '2026-01-27 11:30', '2026-01-27 12:30', '2026-01-27 13:30', '2026-01-27 14:30', '2026-01-28 06:30', '2026-01-28 07:30', '2026-01-28 08:30', '2026-01-28 09:30', '2026-01-28 10:30', '2026-01-28 11:30', '2026-01-28 12:30', '2026-01-28 13:30', '2026-01-28 14:30', '2026-01-29 06:30', '2026-01-29 07:30', '2026-01-29 08:30', '2026-01-29 09:30', '2026-01-29 10:30', '2026-01-29 11:30', '2026-01-29 12:30', '2026-01-29 13:30', '2026-01-29 14:30', '2026-01-30 06:30', '2026-01-30 07:30', '2026-01-30 08:30', '2026-01-30 09:30', '2026-01-30 10:30', '2026-01-30 11:30', '2026-01-30 12:30', '2026-01-30 13:30', '2026-01-30 14:30', '2026-02-02 06:30', '2026-02-02 07:30', '2026-02-02 08:30', '2026-02-02 09:30', '2026-02-02 10:30', '2026-02-02 11:30', '2026-02-02 12:30', '2026-02-02 13:30', '2026-02-02 14:30', '2026-02-03 06:30', '2026-02-03 07:30', '2026-02-03 08:30', '2026-02-03 09:30', '2026-02-03 10:30', '2026-02-03 11:30', '2026-02-03 12:30', '2026-02-03 13:30', '2026-02-03 14:30', '2026-02-04 06:30', '2026-02-04 07:30', '2026-02-04 08:30', '2026-02-04 09:30', '2026-02-04 10:30', '2026-02-04 11:30', '2026-02-04 12:30', '2026-02-04 13:30', '2026-02-04 14:30', '2026-02-05 06:30', '2026-02-05 07:30', '2026-02-05 08:30', '2026-02-05 09:30', '2026-02-05 10:30', '2026-02-05 11:30', '2026-02-05 12:30', '2026-02-05 13:30', '2026-02-05 14:30', '2026-02-06 06:30', '2026-02-06 07:30', '2026-02-06 08:30', '2026-02-06 09:30', '2026-02-06 10:30', '2026-02-06 11:30', '2026-02-06 12:30', '2026-02-06 13:30', '2026-02-06 14:30', '2026-02-06 15:00']

        var prices = [116.10, 117.40, 117.40, 117.90, 118.40, 118.50, 118.20, 118.90, 117.90, 118.50, 120.20, 120.00, 119.90, 119.90, 119.70, 118.80, 118.50, 118.40, 117.50, 117.10, 119.20, 119.10, 119.50, 120.20, 119.60, 118.30, 118.40, 119.10, 120.40, 119.00, 117.90, 118.00, 117.50, 118.00, 118.20, 118.40, 118.50, 116.30, 117.10, 119.20, 118.30, 118.00, 118.80, 120.40, 120.00, 119.80, 118.60, 121.00, 122.30, 121.80, 121.30, 125.00, 125.10, 124.20, 124.50, 128.10, 129.20, 127.40, 127.70, 126.80, 125.90, 126.70, 128.00, 127.30, 126.30, 126.70, 128.80, 128.90, 128.20, 127.60, 128.50, 126.60, 127.40, 128.70, 128.50, 127.70, 128.30, 128.90, 128.20, 128.00, 128.20, 128.60, 131.00, 134.10, 134.10, 132.80, 133.00, 133.10, 131.40, 132.00, 132.90, 133.90, 135.80, 134.90, 134.90, 134.80, 134.40, 135.00, 134.70, 135.60, 137.70, 140.10, 140.10, 141.10, 141.30, 140.10, 140.40, 140.10, 140.40, 140.90, 142.10, 141.50, 140.80, 140.60, 139.40, 141.20, 140.90, 141.10, 142.90, 146.70, 144.40, 143.40, 143.30, 143.00, 143.10, 142.60, 142.70, 146.70, 148.20, 147.70, 149.20, 148.10, 149.20, 150.80, 151.80, 152.70, 144.80, 146.20, 145.00, 142.40, 143.00, 142.70, 142.20, 142.10, 143.30, 132.90, 134.10, 134.10, 135.00, 135.10, 135.50, 134.10, 131.90, 132.60, 136.30, 138.00, 137.90, 137.70, 137.60, 141.10, 140.80, 138.10, 137.00, 141.40, 138.30, 138.50, 139.70, 137.30, 137.50, 137.70, 137.10, 135.70, 133.50, 134.40, 134.10, 133.90, 133.50, 131.80, 132.00, 129.90, 130.30, 128.80, 127.60, 127.70, 127.00, 127.00, 127.00, 128.10, 126.30, 127.70, 127.70];

        var dailyChanges = [-0.51, 0.69, 0.00, 0.43, 0.42, 0.08, -0.25, 0.59, -0.92, 0.51, -1.48, -0.17, -0.08, 0.00, -0.17, -0.75, -0.17, -0.08, -0.68, -1.60, 1.79, -0.08, 0.34, 0.50, -0.50, -1.09, 0.08, 0.59, 0.67, -1.16, -0.92, 0.08, -0.34, 0.43, 0.25, 0.17, 0.08, -1.36, 0.69, 1.79, -0.76, -0.25, 0.68, 1.35, -0.33, -0.17, -1.90, 2.02, 1.16, -0.41, -0.41, 2.97, 0.08, -0.72, 0.24, 0.08, 0.78, -1.39, 0.24, -0.70, -0.71, 0.48, 0.95, -0.62, -2.02, 0.32, 1.66, 0.16, -0.54, -0.47, 0.71, -1.48, 0.55, -0.92, -0.08, -0.70, 0.47, 0.55, -0.47, -0.31, 0.08, 0.16, 1.47, 2.37, 0.00, -1.04, 0.23, 0.08, -1.28, 0.38, 0.68, -0.81, 1.49, -0.66, 0.00, -0.07, -0.22, 0.45, -0.22, 0.59, 0.81, 1.67, 0.00, 0.64, 0.21, -0.85, 0.14, -0.21, 0.14, -0.42, 0.85, -0.42, -0.49, -0.14, -0.92, 1.29, -0.21, 0.21, -0.07, 2.66, -1.57, -0.69, -0.07, -0.28, 0.07, -0.21, 0.07, 0.69, 1.09, -0.34, 0.95, -0.67, 0.81, 1.07, 0.66, 0.59, -0.14, 0.90, -0.82, -1.79, 0.49, -0.28, -0.35, -0.07, 0.77, 2.23, 0.90, -0.07, 0.60, 0.07, 0.22, -0.96, -1.64, 0.45, -0.58, 1.32, -0.07, -0.22, -0.15, 2.47, -0.14, -1.92, -0.80, 0.07, -2.19, 0.14, 0.79, -1.72, 0.15, 0.15, -0.44, -1.02, 1.14, 0.75, -0.22, -0.15, -0.30, -1.20, 0.08, -1.59, 0.39, -1.68, -1.01, 0.16, -0.63, 0.00, 0.00, 0.95, -1.41, 0.95, 0.00]

        var sma20 = [115.38, 115.58, 115.74, 115.89, 116.00, 116.08, 116.16, 116.28, 116.33, 116.44, 116.64, 116.84, 117.15, 117.50, 117.78, 118.00, 118.19, 118.36, 118.44, 118.46, 118.62, 118.70, 118.80, 118.92, 118.98, 118.97, 118.98, 118.99, 119.11, 119.14, 119.03, 118.93, 118.80, 118.71, 118.63, 118.61, 118.61, 118.51, 118.49, 118.59, 118.55, 118.50, 118.46, 118.47, 118.49, 118.57, 118.58, 118.67, 118.77, 118.91, 119.08, 119.43, 119.81, 120.12, 120.43, 120.92, 121.45, 122.01, 122.54, 122.92, 123.30, 123.73, 124.19, 124.54, 124.85, 125.20, 125.71, 126.10, 126.40, 126.68, 127.04, 127.12, 127.24, 127.46, 127.66, 127.64, 127.60, 127.67, 127.70, 127.76, 127.87, 127.97, 128.12, 128.46, 128.85, 129.15, 129.36, 129.58, 129.74, 129.96, 130.18, 130.54, 130.96, 131.27, 131.59, 131.94, 132.25, 132.55, 132.88, 133.26, 133.73, 134.31, 134.77, 135.12, 135.48, 135.84, 136.21, 136.56, 137.01, 137.45, 137.92, 138.30, 138.55, 138.83, 139.06, 139.38, 139.70, 140.01, 140.42, 140.97, 141.31, 141.47, 141.63, 141.72, 141.81, 141.94, 142.05, 142.38, 142.77, 143.11, 143.47, 143.80, 144.22, 144.73, 145.35, 145.92, 146.12, 146.37, 146.48, 146.26, 146.19, 146.16, 146.10, 146.06, 146.07, 145.58, 145.15, 144.53, 143.87, 143.24, 142.55, 141.85, 140.99, 140.08, 139.30, 138.57, 138.22, 137.80, 137.43, 137.36, 137.25, 137.02, 136.76, 136.73, 136.48, 136.76, 137.04, 137.20, 137.32, 137.45, 137.53, 137.61, 137.69, 137.78, 137.67, 137.47, 137.25, 136.95, 136.67, 136.11, 135.58, 135.12, 134.65, 133.96, 133.40, 132.82, 132.19, 131.73, 131.17, 130.67, 130.20];

        var sma50 = [111.05, 111.29, 111.56, 111.83, 112.12, 112.40, 112.64, 112.89, 113.10, 113.34, 113.62, 113.89, 114.12, 114.35, 114.58, 114.74, 114.92, 115.10, 115.27, 115.43, 115.63, 115.84, 116.03, 116.24, 116.42, 116.60, 116.79, 116.98, 117.17, 117.33, 117.43, 117.52, 117.59, 117.65, 117.69, 117.72, 117.76, 117.75, 117.76, 117.81, 117.86, 117.90, 118.00, 118.15, 118.26, 118.37, 118.45, 118.57, 118.70, 118.80, 118.91, 119.06, 119.21, 119.34, 119.46, 119.65, 119.87, 120.04, 120.24, 120.40, 120.52, 120.65, 120.81, 120.96, 121.09, 121.25, 121.46, 121.67, 121.88, 122.09, 122.28, 122.43, 122.59, 122.76, 122.93, 123.12, 123.32, 123.52, 123.67, 123.85, 124.06, 124.27, 124.54, 124.86, 125.18, 125.47, 125.76, 126.09, 126.38, 126.64, 126.93, 127.25, 127.59, 127.88, 128.17, 128.47, 128.79, 129.07, 129.32, 129.59, 129.92, 130.22, 130.52, 130.86, 131.20, 131.44, 131.66, 131.92, 132.17, 132.45, 132.78, 133.07, 133.33, 133.59, 133.86, 134.15, 134.39, 134.63, 134.93, 135.31, 135.63, 135.96, 136.28, 136.57, 136.86, 137.16, 137.44, 137.80, 138.20, 138.59, 139.01, 139.40, 139.77, 140.10, 140.46, 140.85, 141.09, 141.35, 141.62, 141.83, 142.03, 142.21, 142.34, 142.48, 142.65, 142.61, 142.61, 142.59, 142.59, 142.58, 142.54, 142.42, 142.26, 142.09, 141.99, 141.94, 141.89, 141.85, 141.79, 141.79, 141.77, 141.70, 141.62, 141.64, 141.62, 141.56, 141.54, 141.46, 141.36, 141.18, 141.03, 140.88, 140.68, 140.51, 140.33, 140.15, 139.97, 139.67, 139.35, 138.99, 138.61, 138.23, 137.80, 137.33, 136.84, 136.32, 135.97, 135.61, 135.23, 134.94, 134.63];

        var ema12 = [115.26, 115.59, 115.87, 116.18, 116.52, 116.82, 117.04, 117.32, 117.41, 117.58, 117.98, 118.29, 118.54, 118.75, 118.90, 118.88, 118.82, 118.76, 118.56, 118.34, 118.47, 118.57, 118.71, 118.94, 119.04, 118.93, 118.85, 118.89, 119.12, 119.10, 118.92, 118.77, 118.58, 118.49, 118.45, 118.44, 118.45, 118.12, 117.96, 118.15, 118.17, 118.15, 118.25, 118.58, 118.80, 118.95, 118.90, 119.22, 119.69, 120.02, 120.22, 120.95, 121.59, 121.99, 122.38, 123.26, 124.17, 124.67, 125.14, 125.39, 125.47, 125.66, 126.02, 126.22, 126.23, 126.30, 126.69, 127.03, 127.21, 127.27, 127.46, 127.33, 127.34, 127.55, 127.69, 127.69, 127.79, 127.96, 128.00, 128.00, 128.03, 128.12, 128.56, 129.41, 130.13, 130.54, 130.92, 131.26, 131.28, 131.39, 131.62, 131.97, 132.56, 132.92, 133.23, 133.47, 133.61, 133.82, 133.96, 134.21, 134.75, 135.57, 136.27, 137.01, 137.67, 138.05, 138.41, 138.67, 138.93, 139.24, 139.68, 139.96, 140.09, 140.17, 140.05, 140.23, 140.33, 140.45, 140.83, 141.73, 142.14, 142.33, 142.48, 142.56, 142.64, 142.64, 142.65, 143.27, 144.03, 144.59, 145.30, 145.73, 146.27, 146.96, 147.71, 148.48, 147.91, 147.65, 147.24, 146.50, 145.96, 145.46, 144.96, 144.52, 144.33, 142.57, 141.27, 140.16, 139.37, 138.71, 138.22, 137.59, 136.71, 136.08, 136.11, 136.40, 136.63, 136.80, 136.92, 137.56, 138.06, 138.07, 137.90, 138.44, 138.42, 138.43, 138.63, 138.42, 138.28, 138.19, 138.02, 137.67, 137.03, 136.62, 136.23, 135.87, 135.51, 134.94, 134.49, 133.78, 133.25, 132.56, 131.80, 131.17, 130.53, 129.98, 129.52, 129.31, 128.84, 128.67, 128.52];

        var rsi = [62.32, 67.11, 67.11, 68.87, 70.58, 70.92, 68.35, 70.99, 62.91, 65.45, 71.42, 69.89, 69.10, 69.10, 67.32, 59.84, 57.55, 56.77, 50.17, 47.52, 59.57, 58.88, 60.84, 64.07, 59.54, 51.10, 51.66, 55.55, 61.71, 53.17, 47.59, 48.12, 45.62, 48.50, 49.65, 50.83, 51.44, 39.71, 44.66, 55.07, 50.67, 49.26, 53.02, 59.49, 57.36, 56.28, 50.16, 59.62, 63.64, 61.12, 58.62, 68.80, 69.02, 64.57, 65.37, 73.20, 75.06, 66.89, 67.53, 63.59, 59.84, 61.99, 65.24, 62.16, 57.94, 59.13, 64.79, 65.03, 61.75, 59.01, 61.76, 53.59, 56.22, 60.16, 59.27, 55.74, 57.78, 59.76, 56.42, 55.47, 56.27, 57.89, 66.03, 73.23, 73.23, 66.38, 66.90, 67.17, 58.45, 60.41, 63.20, 66.06, 70.73, 66.09, 66.09, 65.54, 63.26, 65.22, 63.40, 66.42, 72.19, 77.05, 77.05, 78.83, 79.18, 71.56, 72.28, 70.36, 71.19, 72.55, 75.55, 71.35, 66.70, 65.39, 58.02, 64.49, 62.75, 63.46, 69.13, 77.18, 65.97, 61.76, 61.34, 60.02, 60.33, 57.94, 58.29, 69.44, 72.42, 69.97, 72.93, 67.67, 70.00, 73.04, 74.77, 76.24, 49.14, 52.37, 49.47, 43.80, 45.36, 44.69, 43.55, 43.31, 47.07, 29.07, 32.29, 32.29, 34.86, 35.15, 36.39, 33.95, 30.48, 32.83, 43.67, 47.83, 47.61, 47.14, 46.88, 55.76, 54.91, 47.87, 45.31, 55.53, 48.64, 49.07, 51.74, 46.50, 46.98, 47.49, 46.06, 42.82, 38.26, 41.03, 40.38, 39.92, 38.98, 35.18, 35.97, 31.61, 33.27, 30.30, 28.13, 28.59, 27.28, 27.28, 27.28, 33.28, 29.06, 35.87, 35.87];

        // BUY/SELL signals
        var buyDates = [], buyPrices = [], buyTexts = [];
        var sellDates = [], sellPrices = [], sellTexts = [];
        buyDates.push('2026-01-09 14:30');
        buyPrices.push(118.50);
        buyTexts.push('AL (%67)');
        buyDates.push('2026-01-12 14:30');
        buyPrices.push(117.50);
        buyTexts.push('GÃ¼Ã§lÃ¼ AL (%82)');
        buyDates.push('2026-01-15 14:30');
        buyPrices.push(119.80);
        buyTexts.push('AL (%67)');
        buyDates.push('2026-01-16 14:30');
        buyPrices.push(124.50);
        buyTexts.push('GÃ¼Ã§lÃ¼ AL (%82)');
        buyDates.push('2026-01-19 14:30');
        buyPrices.push(127.30);
        buyTexts.push('AL (%67)');
        buyDates.push('2026-01-21 14:30');
        buyPrices.push(128.60);
        buyTexts.push('AL (%67)');
        buyDates.push('2026-01-22 14:30');
        buyPrices.push(132.90);
        buyTexts.push('GÃ¼Ã§lÃ¼ AL (%82)');
        buyDates.push('2026-01-23 14:30');
        buyPrices.push(135.60);
        buyTexts.push('GÃ¼Ã§lÃ¼ AL (%82)');
        buyDates.push('2026-01-26 14:30');
        buyPrices.push(140.40);
        buyTexts.push('GÃ¼Ã§lÃ¼ AL (%82)');
        buyDates.push('2026-01-27 14:30');
        buyPrices.push(141.10);
        buyTexts.push('AL (%67)');
        buyDates.push('2026-01-28 14:30');
        buyPrices.push(142.70);
        buyTexts.push('AL (%67)');
        buyDates.push('2026-01-29 14:30');
        buyPrices.push(152.70);
        buyTexts.push('GÃ¼Ã§lÃ¼ AL (%82)');
        sellDates.push('2026-02-02 14:30');
        sellPrices.push(132.60);
        sellTexts.push('GÃ¼Ã§lÃ¼ SAT (%82)');
        sellDates.push('2026-02-05 14:30');
        sellPrices.push(130.30);
        sellTexts.push('GÃ¼Ã§lÃ¼ SAT (%82)');
        sellDates.push('2026-02-06 15:00');
        sellPrices.push(127.70);
        sellTexts.push('SAT (%67)');

        // Price chart traces
        var tracePrice = {
            x: dates,
            y: prices,
            customdata: dailyChanges,
            type: 'scatter',
            mode: 'lines',
            name: 'KapanÄ±ÅŸ FiyatÄ±',
            line: { color: '#1a1a1a', width: 2 },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>Fiyat: %{y:.2f} TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: %{customdata:.2f}%<extra></extra>',
            yaxis: 'y'
        };

        var traceSMA20 = {
            x: dates,
            y: sma20,
            type: 'scatter',
            mode: 'lines',
            name: 'SMA20',
            line: { color: '#4285F4', width: 1.5, dash: 'dot' },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>SMA20: %{y:.2f} TL<extra></extra>',
            yaxis: 'y'
        };

        var traceSMA50 = {
            x: dates,
            y: sma50,
            type: 'scatter',
            mode: 'lines',
            name: 'SMA50',
            line: { color: '#FBBC05', width: 1.5, dash: 'dot' },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>SMA50: %{y:.2f} TL<extra></extra>',
            yaxis: 'y'
        };

        var traceEMA12 = {
            x: dates,
            y: ema12,
            type: 'scatter',
            mode: 'lines',
            name: 'EMA12',
            line: { color: '#34D399', width: 1.5, dash: 'dash' },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>EMA12: %{y:.2f} TL<extra></extra>',
            yaxis: 'y'
        };

        var traceBuySignals = {
            x: buyDates,
            y: buyPrices,
            text: buyTexts,
            type: 'scatter',
            mode: 'markers',
            name: 'AL Sinyali',
            marker: { color: '#22C55E', size: 12, symbol: 'triangle-up', line: { color: '#fff', width: 2 } },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>Fiyat: %{y:.2f} TL<br>%{text}<extra></extra>',
            yaxis: 'y'
        };

        var traceSellSignals = {
            x: sellDates,
            y: sellPrices,
            text: sellTexts,
            type: 'scatter',
            mode: 'markers',
            name: 'SAT Sinyali',
            marker: { color: '#EF4444', size: 12, symbol: 'triangle-down', line: { color: '#fff', width: 2 } },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>Fiyat: %{y:.2f} TL<br>%{text}<extra></extra>',
            yaxis: 'y'
        };

        // RSI chart trace
        var traceRSI = {
            x: dates,
            y: rsi,
            type: 'scatter',
            mode: 'lines',
            name: 'RSI(14)',
            line: { color: '#A855F7', width: 2 },
            hovertemplate: '<b>%{x}</b><br>RSI: %{y:.1f}<extra></extra>',
            yaxis: 'y2',
            xaxis: 'x'
        };

        var traceRSI70 = {
            x: dates,
            y: Array(dates.length).fill(70),
            type: 'scatter',
            mode: 'lines',
            name: 'RSI 70 (AÅŸÄ±rÄ± AlÄ±m)',
            line: { color: '#EF4444', width: 1, dash: 'dash' },
            showlegend: false,
            hoverinfo: 'skip',
            yaxis: 'y2',
            xaxis: 'x'
        };

        var traceRSI30 = {
            x: dates,
            y: Array(dates.length).fill(30),
            type: 'scatter',
            mode: 'lines',
            name: 'RSI 30 (AÅŸÄ±rÄ± SatÄ±ÅŸ)',
            line: { color: '#22C55E', width: 1, dash: 'dash' },
            showlegend: false,
            hoverinfo: 'skip',
            yaxis: 'y2',
            xaxis: 'x'
        };

        // Layout configuration
        var layout = {
            title: {
                text: 'TRMET - Son 487 GÃ¼nlÃ¼k Teknik Analiz',
                font: { size: 18, color: '#1a1a1a' }
            },
            xaxis: {
                title: 'Tarih',
                type: 'date',
                tickformat: '%Y-%m',
                nticks: 12,
                showgrid: true,
                gridcolor: '#e5e5e5'
            },
            yaxis: {
                title: 'Fiyat (â‚º)',
                domain: [0.3, 1],
                showgrid: true,
                gridcolor: '#e5e5e5'
            },
            yaxis2: {
                title: 'RSI',
                domain: [0, 0.25],
                range: [0, 100],
                showgrid: true,
                gridcolor: '#e5e5e5'
            },
            hovermode: 'closest',
            plot_bgcolor: '#fafafa',
            paper_bgcolor: '#ffffff',
            font: { family: 'Segoe UI, Arial', size: 12 },
            legend: {
                x: 0,
                y: 1.1,
                orientation: 'h',
                bgcolor: 'rgba(255,255,255,0.9)',
                bordercolor: '#e5e5e5',
                borderwidth: 1
            },
            margin: { t: 100, b: 80, l: 80, r: 50 }
        };

        var config = {
            responsive: true,
            displayModeBar: true,
            displaylogo: false,
            modeBarButtonsToRemove: ['toImage', 'sendDataToCloud'],
            locale: 'tr'
        };

        // Render chart
        var data = [tracePrice, traceSMA20, traceSMA50, traceEMA12, traceBuySignals, traceSellSignals, traceRSI, traceRSI70, traceRSI30];
        Plotly.newPlot('chart', data, layout, config);
    </script>
</body>
</html>
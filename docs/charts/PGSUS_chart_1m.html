<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PGSUS - Teknik Analiz</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <style>
        body { margin: 0; padding: 20px; background: #f5f5f5; font-family: 'Segoe UI', Arial, sans-serif; }
        .chart-container { background: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        h2 { margin: 0 0 20px 0; color: #1a1a1a; font-size: 24px; }
    </style>
</head>
<body>
    <div class="chart-container">
        <h2>ðŸ“Š PGSUS - Teknik Analiz GrafiÄŸi</h2>
        <div id="chart" style="width:100%; height:800px;"></div>
    </div>
    <script>
        // Data preparation
        var dates = ['2026-01-09', '2026-01-09', '2026-01-09', '2026-01-09', '2026-01-09', '2026-01-09', '2026-01-09', '2026-01-09', '2026-01-12', '2026-01-12', '2026-01-12', '2026-01-12', '2026-01-12', '2026-01-12', '2026-01-12', '2026-01-12', '2026-01-13', '2026-01-13', '2026-01-13', '2026-01-13', '2026-01-13', '2026-01-13', '2026-01-13', '2026-01-13', '2026-01-14', '2026-01-14', '2026-01-14', '2026-01-14', '2026-01-14', '2026-01-14', '2026-01-14', '2026-01-14', '2026-01-15', '2026-01-15', '2026-01-15', '2026-01-15', '2026-01-15', '2026-01-15', '2026-01-15', '2026-01-15', '2026-01-16', '2026-01-16', '2026-01-16', '2026-01-16', '2026-01-16', '2026-01-16', '2026-01-16', '2026-01-16', '2026-01-19', '2026-01-19', '2026-01-19', '2026-01-19', '2026-01-19', '2026-01-19', '2026-01-19', '2026-01-19', '2026-01-20', '2026-01-20', '2026-01-20', '2026-01-20', '2026-01-20', '2026-01-20', '2026-01-20', '2026-01-20', '2026-01-21', '2026-01-21', '2026-01-21', '2026-01-21', '2026-01-21', '2026-01-21', '2026-01-21', '2026-01-21', '2026-01-22', '2026-01-22', '2026-01-22', '2026-01-22', '2026-01-22', '2026-01-22', '2026-01-22', '2026-01-22', '2026-01-23', '2026-01-23', '2026-01-23', '2026-01-23', '2026-01-23', '2026-01-23', '2026-01-23', '2026-01-23', '2026-01-26', '2026-01-26', '2026-01-26', '2026-01-26', '2026-01-26', '2026-01-26', '2026-01-26', '2026-01-26', '2026-01-27', '2026-01-27', '2026-01-27', '2026-01-27', '2026-01-27', '2026-01-27', '2026-01-27', '2026-01-27', '2026-01-28', '2026-01-28', '2026-01-28', '2026-01-28', '2026-01-28', '2026-01-28', '2026-01-28', '2026-01-28', '2026-01-29', '2026-01-29', '2026-01-29', '2026-01-29', '2026-01-29', '2026-01-29', '2026-01-29', '2026-01-29', '2026-01-30', '2026-01-30', '2026-01-30', '2026-01-30', '2026-01-30', '2026-01-30', '2026-01-30', '2026-01-30', '2026-02-03', '2026-02-03', '2026-02-03', '2026-02-03', '2026-02-03', '2026-02-03', '2026-02-03', '2026-02-03', '2026-02-04', '2026-02-04', '2026-02-04', '2026-02-04', '2026-02-04', '2026-02-04', '2026-02-04', '2026-02-04', '2026-02-05', '2026-02-05', '2026-02-05', '2026-02-05', '2026-02-05', '2026-02-05', '2026-02-05', '2026-02-05', '2026-02-06', '2026-02-06', '2026-02-06', '2026-02-06', '2026-02-06', '2026-02-06', '2026-02-06', '2026-02-06', '2026-02-06', '2026-02-06']

        var priceText = ['2026-01-09\nSaat: 06:30', '2026-01-09\nSaat: 07:30', '2026-01-09\nSaat: 08:30', '2026-01-09\nSaat: 09:30', '2026-01-09\nSaat: 10:30', '2026-01-09\nSaat: 11:30', '2026-01-09\nSaat: 12:30', '2026-01-09\nSaat: 13:30', '2026-01-12\nSaat: 06:30', '2026-01-12\nSaat: 07:30', '2026-01-12\nSaat: 08:30', '2026-01-12\nSaat: 09:30', '2026-01-12\nSaat: 10:30', '2026-01-12\nSaat: 11:30', '2026-01-12\nSaat: 12:30', '2026-01-12\nSaat: 13:30', '2026-01-13\nSaat: 06:30', '2026-01-13\nSaat: 07:30', '2026-01-13\nSaat: 08:30', '2026-01-13\nSaat: 09:30', '2026-01-13\nSaat: 10:30', '2026-01-13\nSaat: 11:30', '2026-01-13\nSaat: 12:30', '2026-01-13\nSaat: 13:30', '2026-01-14\nSaat: 06:30', '2026-01-14\nSaat: 07:30', '2026-01-14\nSaat: 08:30', '2026-01-14\nSaat: 09:30', '2026-01-14\nSaat: 10:30', '2026-01-14\nSaat: 11:30', '2026-01-14\nSaat: 12:30', '2026-01-14\nSaat: 13:30', '2026-01-15\nSaat: 06:30', '2026-01-15\nSaat: 07:30', '2026-01-15\nSaat: 08:30', '2026-01-15\nSaat: 09:30', '2026-01-15\nSaat: 10:30', '2026-01-15\nSaat: 11:30', '2026-01-15\nSaat: 12:30', '2026-01-15\nSaat: 13:30', '2026-01-16\nSaat: 06:30', '2026-01-16\nSaat: 07:30', '2026-01-16\nSaat: 08:30', '2026-01-16\nSaat: 09:30', '2026-01-16\nSaat: 10:30', '2026-01-16\nSaat: 11:30', '2026-01-16\nSaat: 12:30', '2026-01-16\nSaat: 13:30', '2026-01-19\nSaat: 06:30', '2026-01-19\nSaat: 07:30', '2026-01-19\nSaat: 08:30', '2026-01-19\nSaat: 09:30', '2026-01-19\nSaat: 10:30', '2026-01-19\nSaat: 11:30', '2026-01-19\nSaat: 12:30', '2026-01-19\nSaat: 13:30', '2026-01-20\nSaat: 06:30', '2026-01-20\nSaat: 07:30', '2026-01-20\nSaat: 08:30', '2026-01-20\nSaat: 09:30', '2026-01-20\nSaat: 10:30', '2026-01-20\nSaat: 11:30', '2026-01-20\nSaat: 12:30', '2026-01-20\nSaat: 13:30', '2026-01-21\nSaat: 06:30', '2026-01-21\nSaat: 07:30', '2026-01-21\nSaat: 08:30', '2026-01-21\nSaat: 09:30', '2026-01-21\nSaat: 10:30', '2026-01-21\nSaat: 11:30', '2026-01-21\nSaat: 12:30', '2026-01-21\nSaat: 13:30', '2026-01-22\nSaat: 06:30', '2026-01-22\nSaat: 07:30', '2026-01-22\nSaat: 08:30', '2026-01-22\nSaat: 09:30', '2026-01-22\nSaat: 10:30', '2026-01-22\nSaat: 11:30', '2026-01-22\nSaat: 12:30', '2026-01-22\nSaat: 13:30', '2026-01-23\nSaat: 06:30', '2026-01-23\nSaat: 07:30', '2026-01-23\nSaat: 08:30', '2026-01-23\nSaat: 09:30', '2026-01-23\nSaat: 10:30', '2026-01-23\nSaat: 11:30', '2026-01-23\nSaat: 12:30', '2026-01-23\nSaat: 13:30', '2026-01-26\nSaat: 06:30', '2026-01-26\nSaat: 07:30', '2026-01-26\nSaat: 08:30', '2026-01-26\nSaat: 09:30', '2026-01-26\nSaat: 10:30', '2026-01-26\nSaat: 11:30', '2026-01-26\nSaat: 12:30', '2026-01-26\nSaat: 13:30', '2026-01-27\nSaat: 06:30', '2026-01-27\nSaat: 07:30', '2026-01-27\nSaat: 08:30', '2026-01-27\nSaat: 09:30', '2026-01-27\nSaat: 10:30', '2026-01-27\nSaat: 11:30', '2026-01-27\nSaat: 12:30', '2026-01-27\nSaat: 13:30', '2026-01-28\nSaat: 06:30', '2026-01-28\nSaat: 07:30', '2026-01-28\nSaat: 08:30', '2026-01-28\nSaat: 09:30', '2026-01-28\nSaat: 10:30', '2026-01-28\nSaat: 11:30', '2026-01-28\nSaat: 12:30', '2026-01-28\nSaat: 13:30', '2026-01-29\nSaat: 06:30', '2026-01-29\nSaat: 07:30', '2026-01-29\nSaat: 08:30', '2026-01-29\nSaat: 09:30', '2026-01-29\nSaat: 10:30', '2026-01-29\nSaat: 11:30', '2026-01-29\nSaat: 12:30', '2026-01-29\nSaat: 13:30', '2026-01-30\nSaat: 06:30', '2026-01-30\nSaat: 07:30', '2026-01-30\nSaat: 08:30', '2026-01-30\nSaat: 09:30', '2026-01-30\nSaat: 10:30', '2026-01-30\nSaat: 11:30', '2026-01-30\nSaat: 12:30', '2026-01-30\nSaat: 13:30', '2026-02-03\nSaat: 06:30', '2026-02-03\nSaat: 07:30', '2026-02-03\nSaat: 08:30', '2026-02-03\nSaat: 09:30', '2026-02-03\nSaat: 10:30', '2026-02-03\nSaat: 11:30', '2026-02-03\nSaat: 12:30', '2026-02-03\nSaat: 13:30', '2026-02-04\nSaat: 06:30', '2026-02-04\nSaat: 07:30', '2026-02-04\nSaat: 08:30', '2026-02-04\nSaat: 09:30', '2026-02-04\nSaat: 10:30', '2026-02-04\nSaat: 11:30', '2026-02-04\nSaat: 12:30', '2026-02-04\nSaat: 13:30', '2026-02-05\nSaat: 06:30', '2026-02-05\nSaat: 07:30', '2026-02-05\nSaat: 08:30', '2026-02-05\nSaat: 09:30', '2026-02-05\nSaat: 10:30', '2026-02-05\nSaat: 11:30', '2026-02-05\nSaat: 12:30', '2026-02-05\nSaat: 13:30', '2026-02-06\nSaat: 06:30', '2026-02-06\nSaat: 07:30', '2026-02-06\nSaat: 08:30', '2026-02-06\nSaat: 09:30', '2026-02-06\nSaat: 10:30', '2026-02-06\nSaat: 11:30', '2026-02-06\nSaat: 12:30', '2026-02-06\nSaat: 13:30', '2026-02-06\nSaat: 14:30', '2026-02-06\nSaat: 15:00']

        var signalText = ['2026-01-09\nSinyal Saati: 06:30', '2026-01-09\nSinyal Saati: 07:30', '2026-01-09\nSinyal Saati: 08:30', '2026-01-09\nSinyal Saati: 09:30', '2026-01-09\nSinyal Saati: 10:30', '2026-01-09\nSinyal Saati: 11:30', '2026-01-09\nSinyal Saati: 12:30', '2026-01-09\nSinyal Saati: 13:30', '2026-01-12\nSinyal Saati: 06:30', '2026-01-12\nSinyal Saati: 07:30', '2026-01-12\nSinyal Saati: 08:30', '2026-01-12\nSinyal Saati: 09:30', '2026-01-12\nSinyal Saati: 10:30', '2026-01-12\nSinyal Saati: 11:30', '2026-01-12\nSinyal Saati: 12:30', '2026-01-12\nSinyal Saati: 13:30', '2026-01-13\nSinyal Saati: 06:30', '2026-01-13\nSinyal Saati: 07:30', '2026-01-13\nSinyal Saati: 08:30', '2026-01-13\nSinyal Saati: 09:30', '2026-01-13\nSinyal Saati: 10:30', '2026-01-13\nSinyal Saati: 11:30', '2026-01-13\nSinyal Saati: 12:30', '2026-01-13\nSinyal Saati: 13:30', '2026-01-14\nSinyal Saati: 06:30', '2026-01-14\nSinyal Saati: 07:30', '2026-01-14\nSinyal Saati: 08:30', '2026-01-14\nSinyal Saati: 09:30', '2026-01-14\nSinyal Saati: 10:30', '2026-01-14\nSinyal Saati: 11:30', '2026-01-14\nSinyal Saati: 12:30', '2026-01-14\nSinyal Saati: 13:30', '2026-01-15\nSinyal Saati: 06:30', '2026-01-15\nSinyal Saati: 07:30', '2026-01-15\nSinyal Saati: 08:30', '2026-01-15\nSinyal Saati: 09:30', '2026-01-15\nSinyal Saati: 10:30', '2026-01-15\nSinyal Saati: 11:30', '2026-01-15\nSinyal Saati: 12:30', '2026-01-15\nSinyal Saati: 13:30', '2026-01-16\nSinyal Saati: 06:30', '2026-01-16\nSinyal Saati: 07:30', '2026-01-16\nSinyal Saati: 08:30', '2026-01-16\nSinyal Saati: 09:30', '2026-01-16\nSinyal Saati: 10:30', '2026-01-16\nSinyal Saati: 11:30', '2026-01-16\nSinyal Saati: 12:30', '2026-01-16\nSinyal Saati: 13:30', '2026-01-19\nSinyal Saati: 06:30', '2026-01-19\nSinyal Saati: 07:30', '2026-01-19\nSinyal Saati: 08:30', '2026-01-19\nSinyal Saati: 09:30', '2026-01-19\nSinyal Saati: 10:30', '2026-01-19\nSinyal Saati: 11:30', '2026-01-19\nSinyal Saati: 12:30', '2026-01-19\nSinyal Saati: 13:30', '2026-01-20\nSinyal Saati: 06:30', '2026-01-20\nSinyal Saati: 07:30', '2026-01-20\nSinyal Saati: 08:30', '2026-01-20\nSinyal Saati: 09:30', '2026-01-20\nSinyal Saati: 10:30', '2026-01-20\nSinyal Saati: 11:30', '2026-01-20\nSinyal Saati: 12:30', '2026-01-20\nSinyal Saati: 13:30', '2026-01-21\nSinyal Saati: 06:30', '2026-01-21\nSinyal Saati: 07:30', '2026-01-21\nSinyal Saati: 08:30', '2026-01-21\nSinyal Saati: 09:30', '2026-01-21\nSinyal Saati: 10:30', '2026-01-21\nSinyal Saati: 11:30', '2026-01-21\nSinyal Saati: 12:30', '2026-01-21\nSinyal Saati: 13:30', '2026-01-22\nSinyal Saati: 06:30', '2026-01-22\nSinyal Saati: 07:30', '2026-01-22\nSinyal Saati: 08:30', '2026-01-22\nSinyal Saati: 09:30', '2026-01-22\nSinyal Saati: 10:30', '2026-01-22\nSinyal Saati: 11:30', '2026-01-22\nSinyal Saati: 12:30', '2026-01-22\nSinyal Saati: 13:30', '2026-01-23\nSinyal Saati: 06:30', '2026-01-23\nSinyal Saati: 07:30', '2026-01-23\nSinyal Saati: 08:30', '2026-01-23\nSinyal Saati: 09:30', '2026-01-23\nSinyal Saati: 10:30', '2026-01-23\nSinyal Saati: 11:30', '2026-01-23\nSinyal Saati: 12:30', '2026-01-23\nSinyal Saati: 13:30', '2026-01-26\nSinyal Saati: 06:30', '2026-01-26\nSinyal Saati: 07:30', '2026-01-26\nSinyal Saati: 08:30', '2026-01-26\nSinyal Saati: 09:30', '2026-01-26\nSinyal Saati: 10:30', '2026-01-26\nSinyal Saati: 11:30', '2026-01-26\nSinyal Saati: 12:30', '2026-01-26\nSinyal Saati: 13:30', '2026-01-27\nSinyal Saati: 06:30', '2026-01-27\nSinyal Saati: 07:30', '2026-01-27\nSinyal Saati: 08:30', '2026-01-27\nSinyal Saati: 09:30', '2026-01-27\nSinyal Saati: 10:30', '2026-01-27\nSinyal Saati: 11:30', '2026-01-27\nSinyal Saati: 12:30', '2026-01-27\nSinyal Saati: 13:30', '2026-01-28\nSinyal Saati: 06:30', '2026-01-28\nSinyal Saati: 07:30', '2026-01-28\nSinyal Saati: 08:30', '2026-01-28\nSinyal Saati: 09:30', '2026-01-28\nSinyal Saati: 10:30', '2026-01-28\nSinyal Saati: 11:30', '2026-01-28\nSinyal Saati: 12:30', '2026-01-28\nSinyal Saati: 13:30', '2026-01-29\nSinyal Saati: 06:30', '2026-01-29\nSinyal Saati: 07:30', '2026-01-29\nSinyal Saati: 08:30', '2026-01-29\nSinyal Saati: 09:30', '2026-01-29\nSinyal Saati: 10:30', '2026-01-29\nSinyal Saati: 11:30', '2026-01-29\nSinyal Saati: 12:30', '2026-01-29\nSinyal Saati: 13:30', '2026-01-30\nSinyal Saati: 06:30', '2026-01-30\nSinyal Saati: 07:30', '2026-01-30\nSinyal Saati: 08:30', '2026-01-30\nSinyal Saati: 09:30', '2026-01-30\nSinyal Saati: 10:30', '2026-01-30\nSinyal Saati: 11:30', '2026-01-30\nSinyal Saati: 12:30', '2026-01-30\nSinyal Saati: 13:30', '2026-02-03\nSinyal Saati: 06:30', '2026-02-03\nSinyal Saati: 07:30', '2026-02-03\nSinyal Saati: 08:30', '2026-02-03\nSinyal Saati: 09:30', '2026-02-03\nSinyal Saati: 10:30', '2026-02-03\nSinyal Saati: 11:30', '2026-02-03\nSinyal Saati: 12:30', '2026-02-03\nSinyal Saati: 13:30', '2026-02-04\nSinyal Saati: 06:30', '2026-02-04\nSinyal Saati: 07:30', '2026-02-04\nSinyal Saati: 08:30', '2026-02-04\nSinyal Saati: 09:30', '2026-02-04\nSinyal Saati: 10:30', '2026-02-04\nSinyal Saati: 11:30', '2026-02-04\nSinyal Saati: 12:30', '2026-02-04\nSinyal Saati: 13:30', '2026-02-05\nSinyal Saati: 06:30', '2026-02-05\nSinyal Saati: 07:30', '2026-02-05\nSinyal Saati: 08:30', '2026-02-05\nSinyal Saati: 09:30', '2026-02-05\nSinyal Saati: 10:30', '2026-02-05\nSinyal Saati: 11:30', '2026-02-05\nSinyal Saati: 12:30', '2026-02-05\nSinyal Saati: 13:30', '2026-02-06\nSinyal Saati: 06:30', '2026-02-06\nSinyal Saati: 07:30', '2026-02-06\nSinyal Saati: 08:30', '2026-02-06\nSinyal Saati: 09:30', '2026-02-06\nSinyal Saati: 10:30', '2026-02-06\nSinyal Saati: 11:30', '2026-02-06\nSinyal Saati: 12:30', '2026-02-06\nSinyal Saati: 13:30', '2026-02-06\nSinyal Saati: 14:30', '2026-02-06\nSinyal Saati: 15:00']

        var prices = [209.20, 205.90, 204.50, 204.50, 203.70, 205.50, 204.90, 204.40, 205.10, 204.90, 205.00, 205.30, 205.20, 205.70, 204.70, 204.80, 203.70, 203.50, 201.70, 201.20, 200.30, 201.40, 201.50, 202.10, 201.00, 200.10, 199.70, 199.30, 198.90, 197.30, 196.90, 196.50, 199.00, 198.40, 197.10, 197.00, 197.50, 196.70, 197.40, 198.40, 202.10, 202.70, 201.70, 201.30, 201.20, 200.70, 201.80, 202.40, 203.70, 203.30, 203.70, 203.90, 204.30, 204.30, 204.80, 204.20, 201.70, 202.90, 201.70, 202.10, 202.00, 200.90, 201.30, 198.90, 200.00, 199.10, 198.60, 198.80, 198.50, 198.00, 198.20, 198.80, 201.90, 201.60, 201.70, 201.50, 200.40, 199.50, 200.90, 201.90, 205.30, 203.70, 203.80, 204.20, 203.40, 204.40, 204.00, 202.80, 203.60, 202.10, 201.40, 201.30, 200.40, 200.90, 201.20, 201.10, 201.20, 200.20, 199.60, 198.60, 198.70, 198.40, 198.50, 197.60, 199.00, 199.60, 201.10, 200.80, 200.70, 200.40, 198.90, 200.30, 200.40, 201.90, 201.70, 201.10, 201.20, 203.00, 203.00, 202.20, 202.30, 200.40, 202.10, 201.00, 201.10, 202.00, 202.50, 203.30, 206.30, 207.10, 206.30, 206.70, 206.50, 205.90, 206.70, 206.50, 208.10, 207.80, 206.40, 207.00, 206.80, 208.60, 208.00, 208.40, 207.20, 207.80, 207.60, 207.80, 206.60, 205.60, 206.20, 206.40, 204.30, 203.60, 203.40, 203.50, 203.30, 202.80, 201.50, 203.60, 206.80, 207.00];

        var dailyChanges = [-0.24, -1.62, -0.63, 0.00, -0.39, 0.88, -0.29, -0.29, 0.20, -0.05, 0.05, 0.15, -0.05, 0.24, -0.49, 0.05, -0.39, -0.10, -0.93, -0.25, -0.45, 0.55, 0.05, 0.35, -0.45, -0.40, -0.20, -0.20, -0.15, -0.85, -0.20, -0.20, 0.91, -0.30, -0.66, -0.05, 0.25, -0.41, 0.30, 0.46, 0.30, 0.30, -0.49, -0.15, -0.10, -0.25, 0.55, 0.30, 0.10, -0.20, 0.25, 0.10, 0.25, 0.05, 0.24, -0.34, -0.69, 0.59, -0.59, 0.20, -0.10, -0.50, 0.20, -1.24, 0.10, -0.45, -0.25, 0.15, -0.15, -0.25, 0.10, 0.30, 0.10, -0.10, 0.05, -0.10, -0.55, -0.45, 0.70, 0.50, 0.88, -0.83, 0.05, 0.20, -0.39, 0.49, -0.20, -0.54, 0.69, -0.79, -0.35, -0.05, -0.45, 0.25, 0.15, -0.10, -0.10, -0.55, -0.35, -0.50, 0.05, -0.15, 0.00, -0.45, 0.76, 0.30, 0.70, -0.10, -0.05, -0.10, -0.80, 0.70, -0.05, 0.75, -0.15, -0.35, 0.10, 0.89, 0.00, -0.44, 0.15, -0.94, 0.85, -0.59, 0.05, 0.45, 0.25, 0.40, 1.13, 0.39, -0.43, 0.19, -0.15, -0.24, 0.39, -0.10, -1.37, -0.14, -0.63, 0.29, -0.10, 0.87, -0.29, 0.19, -0.05, 0.29, -0.05, 0.10, -0.63, -0.48, 0.29, 0.10, -0.34, -0.34, -0.10, 0.05, -0.10, -0.25, -0.64, 1.04, 1.22, 0.00]

        var sma20 = [205.80, 205.87, 205.82, 205.71, 205.48, 205.29, 205.12, 204.93, 204.83, 204.72, 204.70, 204.69, 204.73, 204.77, 204.81, 204.94, 205.03, 205.09, 204.93, 204.67, 204.22, 204.00, 203.85, 203.73, 203.59, 203.32, 203.06, 202.81, 202.50, 202.12, 201.71, 201.27, 200.96, 200.60, 200.22, 199.83, 199.52, 199.18, 198.96, 198.82, 198.91, 198.98, 198.99, 198.95, 198.96, 198.99, 199.09, 199.25, 199.49, 199.79, 200.13, 200.50, 200.76, 201.06, 201.44, 201.80, 202.01, 202.32, 202.54, 202.72, 202.72, 202.63, 202.61, 202.49, 202.43, 202.35, 202.19, 202.01, 201.75, 201.48, 201.21, 200.96, 200.83, 200.70, 200.54, 200.41, 200.34, 200.18, 200.13, 200.12, 200.29, 200.43, 200.55, 200.82, 200.99, 201.25, 201.52, 201.72, 201.98, 202.18, 202.34, 202.47, 202.39, 202.36, 202.33, 202.31, 202.35, 202.39, 202.32, 202.16, 201.83, 201.56, 201.30, 200.97, 200.75, 200.51, 200.37, 200.27, 200.12, 200.03, 199.91, 199.86, 199.86, 199.91, 199.93, 199.93, 199.93, 200.08, 200.24, 200.42, 200.60, 200.70, 200.88, 201.05, 201.16, 201.28, 201.35, 201.47, 201.75, 202.09, 202.46, 202.78, 203.09, 203.29, 203.54, 203.81, 204.15, 204.39, 204.56, 204.80, 205.03, 205.44, 205.73, 206.10, 206.41, 206.70, 206.95, 207.18, 207.19, 207.12, 207.11, 207.10, 206.99, 206.87, 206.71, 206.56, 206.32, 206.07, 205.82, 205.65, 205.65, 205.57];

        var sma50 = [200.05, 200.32, 200.55, 200.75, 200.95, 201.19, 201.43, 201.66, 201.91, 202.16, 202.39, 202.59, 202.80, 203.03, 203.22, 203.43, 203.61, 203.78, 203.90, 203.99, 204.07, 204.17, 204.28, 204.39, 204.45, 204.49, 204.44, 204.36, 204.27, 204.13, 203.98, 203.81, 203.69, 203.52, 203.29, 203.05, 202.83, 202.60, 202.41, 202.24, 202.17, 202.11, 202.06, 201.99, 201.93, 201.90, 201.90, 201.90, 201.88, 201.82, 201.71, 201.67, 201.66, 201.66, 201.68, 201.65, 201.59, 201.56, 201.49, 201.44, 201.38, 201.29, 201.21, 201.07, 200.98, 200.87, 200.76, 200.67, 200.61, 200.54, 200.50, 200.45, 200.46, 200.45, 200.46, 200.49, 200.50, 200.51, 200.55, 200.64, 200.81, 200.95, 201.05, 201.16, 201.29, 201.44, 201.57, 201.69, 201.81, 201.89, 201.87, 201.84, 201.82, 201.81, 201.81, 201.82, 201.81, 201.76, 201.68, 201.59, 201.49, 201.38, 201.26, 201.13, 201.01, 200.92, 200.91, 200.86, 200.84, 200.81, 200.75, 200.74, 200.72, 200.78, 200.81, 200.85, 200.90, 200.99, 201.08, 201.16, 201.24, 201.28, 201.28, 201.27, 201.26, 201.27, 201.31, 201.38, 201.49, 201.60, 201.62, 201.68, 201.73, 201.76, 201.83, 201.87, 201.95, 202.05, 202.11, 202.21, 202.32, 202.46, 202.61, 202.76, 202.88, 203.02, 203.15, 203.30, 203.44, 203.58, 203.73, 203.89, 204.00, 204.12, 204.21, 204.29, 204.33, 204.37, 204.39, 204.45, 204.61, 204.75];

        var ema12 = [205.23, 205.33, 205.20, 205.09, 204.88, 204.97, 204.96, 204.88, 204.91, 204.91, 204.92, 204.98, 205.01, 205.12, 205.06, 205.02, 204.81, 204.61, 204.16, 203.71, 203.18, 202.91, 202.69, 202.60, 202.35, 202.01, 201.65, 201.29, 200.92, 200.37, 199.83, 199.32, 199.27, 199.14, 198.82, 198.54, 198.38, 198.12, 198.01, 198.07, 198.69, 199.31, 199.68, 199.93, 200.12, 200.21, 200.46, 200.75, 201.21, 201.53, 201.86, 202.18, 202.50, 202.78, 203.09, 203.26, 203.02, 203.00, 202.80, 202.69, 202.59, 202.33, 202.17, 201.67, 201.41, 201.05, 200.68, 200.39, 200.10, 199.78, 199.53, 199.42, 199.80, 200.08, 200.33, 200.51, 200.49, 200.34, 200.43, 200.65, 201.37, 201.73, 202.05, 202.38, 202.53, 202.82, 203.00, 202.97, 203.07, 202.92, 202.69, 202.47, 202.15, 201.96, 201.84, 201.73, 201.65, 201.43, 201.14, 200.75, 200.44, 200.12, 199.87, 199.52, 199.44, 199.47, 199.72, 199.89, 200.01, 200.07, 199.89, 199.95, 200.02, 200.31, 200.52, 200.61, 200.70, 201.06, 201.36, 201.49, 201.61, 201.42, 201.53, 201.45, 201.39, 201.49, 201.64, 201.90, 202.58, 203.27, 203.74, 204.19, 204.55, 204.76, 205.06, 205.28, 205.71, 206.03, 206.09, 206.23, 206.32, 206.67, 206.87, 207.11, 207.12, 207.23, 207.28, 207.36, 207.25, 206.99, 206.87, 206.80, 206.41, 205.98, 205.58, 205.26, 204.96, 204.63, 204.15, 204.06, 204.48, 204.87];

        var rsi = [68.45, 55.67, 51.29, 51.29, 48.75, 54.24, 52.24, 50.56, 52.84, 52.10, 52.46, 53.58, 53.13, 55.17, 50.45, 50.90, 45.94, 45.08, 38.16, 36.48, 33.62, 39.83, 40.38, 43.68, 39.37, 36.23, 34.89, 33.56, 32.23, 27.55, 26.51, 25.47, 40.97, 38.88, 34.74, 34.44, 37.38, 34.70, 38.84, 44.27, 58.84, 60.64, 56.23, 54.53, 54.08, 51.82, 56.17, 58.37, 62.74, 60.63, 62.01, 62.71, 64.14, 64.14, 66.02, 61.82, 48.10, 53.44, 48.11, 49.90, 49.44, 44.57, 46.63, 37.60, 43.04, 39.97, 38.34, 39.40, 38.33, 36.54, 37.79, 41.51, 56.11, 54.69, 55.10, 54.05, 48.57, 44.58, 51.28, 55.42, 66.01, 58.92, 59.21, 60.43, 56.77, 60.03, 58.14, 52.77, 55.71, 49.49, 46.86, 46.48, 43.10, 45.47, 46.91, 46.47, 47.00, 42.45, 39.95, 36.13, 36.78, 35.61, 36.34, 32.75, 42.30, 45.85, 53.54, 51.95, 51.40, 49.71, 42.22, 49.82, 50.32, 57.24, 56.12, 52.78, 53.28, 61.23, 61.23, 56.29, 56.76, 46.53, 54.44, 49.35, 49.81, 53.87, 55.99, 59.23, 68.57, 70.51, 66.12, 67.22, 66.06, 62.59, 65.21, 64.00, 68.97, 67.10, 59.06, 61.21, 60.08, 66.13, 62.72, 64.05, 57.42, 59.67, 58.56, 59.37, 52.68, 47.84, 50.77, 51.74, 42.31, 39.71, 38.97, 39.58, 38.75, 36.69, 31.94, 44.46, 57.33, 57.99];

        // BUY/SELL signals
        var buyDates = [], buyPrices = [], buyTexts = [];
        var sellDates = [], sellPrices = [], sellTexts = [];
        sellDates.push('2026-01-14 13:30');
        sellPrices.push(196.50);
        sellTexts.push('<b>2026-01-14</b>\nSaat: 13:30\nGÃ¼Ã§lÃ¼ SAT (%82)');
        sellDates.push('2026-01-15 13:30');
        sellPrices.push(198.40);
        sellTexts.push('<b>2026-01-15</b>\nSaat: 13:30\nSAT (%67)');
        buyDates.push('2026-01-16 13:30');
        buyPrices.push(202.40);
        buyTexts.push('<b>2026-01-16</b>\nSaat: 13:30\nAL (%67)');
        buyDates.push('2026-01-19 13:30');
        buyPrices.push(204.20);
        buyTexts.push('<b>2026-01-19</b>\nSaat: 13:30\nAL (%67)');
        buyDates.push('2026-01-23 13:30');
        buyPrices.push(202.80);
        buyTexts.push('<b>2026-01-23</b>\nSaat: 13:30\nAL (%67)');
        sellDates.push('2026-01-27 13:30');
        sellPrices.push(197.60);
        sellTexts.push('<b>2026-01-27</b>\nSaat: 13:30\nGÃ¼Ã§lÃ¼ SAT (%82)');
        buyDates.push('2026-01-29 13:30');
        buyPrices.push(202.20);
        buyTexts.push('<b>2026-01-29</b>\nSaat: 13:30\nAL (%67)');
        buyDates.push('2026-01-30 13:30');
        buyPrices.push(203.30);
        buyTexts.push('<b>2026-01-30</b>\nSaat: 13:30\nGÃ¼Ã§lÃ¼ AL (%82)');
        buyDates.push('2026-02-03 13:30');
        buyPrices.push(206.50);
        buyTexts.push('<b>2026-02-03</b>\nSaat: 13:30\nAL (%67)');
        buyDates.push('2026-02-04 13:30');
        buyPrices.push(208.40);
        buyTexts.push('<b>2026-02-04</b>\nSaat: 13:30\nGÃ¼Ã§lÃ¼ AL (%82)');
        sellDates.push('2026-02-06 15:00');
        sellPrices.push(207.00);
        sellTexts.push('<b>2026-02-06</b>\nSaat: 15:00\nSon GÃ¼n: SELL');

        // Price chart traces
        var tracePrice = {
            x: dates,
            y: prices,
            text: priceText,
            customdata: dailyChanges,
            type: 'scatter',
            mode: 'lines',
            name: 'KapanÄ±ÅŸ FiyatÄ±',
            line: { color: '#1a1a1a', width: 2 },
            hovertemplate: '<b>%{text}</b><br>Fiyat: %{y:.2f} TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: %{customdata:.2f}%<extra></extra>',
            yaxis: 'y'
        };

        var traceSMA20 = {
            x: dates,
            y: sma20,
            type: 'scatter',
            mode: 'lines',
            name: 'SMA20',
            line: { color: '#4285F4', width: 1.5, dash: 'dot' },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>SMA20: %{y:.2f} TL<extra></extra>',
            yaxis: 'y'
        };

        var traceSMA50 = {
            x: dates,
            y: sma50,
            type: 'scatter',
            mode: 'lines',
            name: 'SMA50',
            line: { color: '#FBBC05', width: 1.5, dash: 'dot' },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>SMA50: %{y:.2f} TL<extra></extra>',
            yaxis: 'y'
        };

        var traceEMA12 = {
            x: dates,
            y: ema12,
            type: 'scatter',
            mode: 'lines',
            name: 'EMA12',
            line: { color: '#34D399', width: 1.5, dash: 'dash' },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>EMA12: %{y:.2f} TL<extra></extra>',
            yaxis: 'y'
        };

        var signalLine = [];
        for (let i = 0; i < buyDates.length; i++) {
            signalLine.push({date: buyDates[i], price: buyPrices[i], type: 'BUY'});
        }
        for (let i = 0; i < sellDates.length; i++) {
            signalLine.push({date: sellDates[i], price: sellPrices[i], type: 'SELL'});
        }
        signalLine.sort((a, b) => new Date(a.date) - new Date(b.date));
        var signalLineX = signalLine.map(p => p.date);
        var signalLineY = signalLine.map(p => p.price);
        var signalLineText = signalLine.map(p => {
            var parts = p.date.split(' ');
            return '<b>' + parts[0] + '</b>' + '\nSinyal Saati: ' + parts[1];
        });

        var traceSignalLine = {
            x: signalLineX,
            y: signalLineY,
            text: signalLineText,
            type: 'scatter',
            mode: 'lines+markers',
            name: 'Sinyal FiyatÄ± (Turuncu)',
            line: { color: '#F97316', width: 2, dash: 'solid' },
            marker: { color: '#F97316', size: 6 },
            hovertemplate: '%{text}<br>Sinyal FiyatÄ±: %{y:.2f} TL<extra></extra>',
            yaxis: 'y'
        };

        var traceBuySignals = {
            x: buyDates,
            y: buyPrices,
            text: buyTexts,
            type: 'scatter',
            mode: 'markers',
            name: 'AL Sinyali',
            marker: { color: '#22C55E', size: 12, symbol: 'triangle-up', line: { color: '#fff', width: 2 } },
            hovertemplate: '%{text}<br>Fiyat: %{y:.2f} TL<extra></extra>',
            yaxis: 'y'
        };

        var traceSellSignals = {
            x: sellDates,
            y: sellPrices,
            text: sellTexts,
            type: 'scatter',
            mode: 'markers',
            name: 'SAT Sinyali',
            marker: { color: '#EF4444', size: 12, symbol: 'triangle-down', line: { color: '#fff', width: 2 } },
            hovertemplate: '%{text}<br>Fiyat: %{y:.2f} TL<extra></extra>',
            yaxis: 'y'
        };

        // RSI chart trace
        var traceRSI = {
            x: dates,
            y: rsi,
            type: 'scatter',
            mode: 'lines',
            name: 'RSI(14)',
            line: { color: '#A855F7', width: 2 },
            hovertemplate: '<b>%{x}</b><br>RSI: %{y:.1f}<extra></extra>',
            yaxis: 'y2',
            xaxis: 'x'
        };

        var traceRSI70 = {
            x: dates,
            y: Array(dates.length).fill(70),
            type: 'scatter',
            mode: 'lines',
            name: 'RSI 70 (AÅŸÄ±rÄ± AlÄ±m)',
            line: { color: '#EF4444', width: 1, dash: 'dash' },
            showlegend: false,
            hoverinfo: 'skip',
            yaxis: 'y2',
            xaxis: 'x'
        };

        var traceRSI30 = {
            x: dates,
            y: Array(dates.length).fill(30),
            type: 'scatter',
            mode: 'lines',
            name: 'RSI 30 (AÅŸÄ±rÄ± SatÄ±ÅŸ)',
            line: { color: '#22C55E', width: 1, dash: 'dash' },
            showlegend: false,
            hoverinfo: 'skip',
            yaxis: 'y2',
            xaxis: 'x'
        };

        // Layout configuration
        var layout = {
            title: {
                text: 'PGSUS - Son 514 GÃ¼nlÃ¼k Teknik Analiz',
                font: { size: 18, color: '#1a1a1a' }
            },
            xaxis: {
                title: 'Tarih',
                type: 'date',
                tickformat: '%Y-%m',
                nticks: 12,
                showgrid: true,
                gridcolor: '#e5e5e5'
            },
            yaxis: {
                title: 'Fiyat (â‚º)',
                domain: [0.3, 1],
                showgrid: true,
                gridcolor: '#e5e5e5'
            },
            yaxis2: {
                title: 'RSI',
                domain: [0, 0.25],
                range: [0, 100],
                showgrid: true,
                gridcolor: '#e5e5e5'
            },
            hovermode: 'closest',
            plot_bgcolor: '#fafafa',
            paper_bgcolor: '#ffffff',
            font: { family: 'Segoe UI, Arial', size: 12 },
            legend: {
                x: 0,
                y: 1.1,
                orientation: 'h',
                bgcolor: 'rgba(255,255,255,0.9)',
                bordercolor: '#e5e5e5',
                borderwidth: 1
            },
            margin: { t: 100, b: 80, l: 80, r: 50 }
        };

        var config = {
            responsive: true,
            displayModeBar: true,
            displaylogo: false,
            modeBarButtonsToRemove: ['toImage', 'sendDataToCloud'],
            locale: 'tr'
        };

        // Render chart
        var data = [tracePrice, traceSignalLine, traceSMA20, traceSMA50, traceEMA12, traceBuySignals, traceSellSignals, traceRSI, traceRSI70, traceRSI30];
        Plotly.newPlot('chart', data, layout, config);
    </script>
</body>
</html>
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOAS - Teknik Analiz</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <style>
        body { margin: 0; padding: 20px; background: #f5f5f5; font-family: 'Segoe UI', Arial, sans-serif; }
        .chart-container { background: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        h2 { margin: 0 0 20px 0; color: #1a1a1a; font-size: 24px; }
    </style>
</head>
<body>
    <div class="chart-container">
        <h2>ðŸ“Š DOAS - Teknik Analiz GrafiÄŸi</h2>
        <div id="chart" style="width:100%; height:800px;"></div>
    </div>
    <script>
        // Data preparation
        var dates = ['2026-01-08 14:30', '2026-01-09 06:30', '2026-01-09 07:30', '2026-01-09 08:30', '2026-01-09 09:30', '2026-01-09 10:30', '2026-01-09 11:30', '2026-01-09 12:30', '2026-01-09 13:30', '2026-01-09 14:30', '2026-01-12 06:30', '2026-01-12 07:30', '2026-01-12 08:30', '2026-01-12 09:30', '2026-01-12 10:30', '2026-01-12 11:30', '2026-01-12 12:30', '2026-01-12 13:30', '2026-01-12 14:30', '2026-01-13 06:30', '2026-01-13 07:30', '2026-01-13 08:30', '2026-01-13 09:30', '2026-01-13 10:30', '2026-01-13 11:30', '2026-01-13 12:30', '2026-01-13 13:30', '2026-01-13 14:30', '2026-01-14 06:30', '2026-01-14 07:30', '2026-01-14 08:30', '2026-01-14 09:30', '2026-01-14 10:30', '2026-01-14 11:30', '2026-01-14 12:30', '2026-01-14 13:30', '2026-01-14 14:30', '2026-01-15 06:30', '2026-01-15 07:30', '2026-01-15 08:30', '2026-01-15 09:30', '2026-01-15 10:30', '2026-01-15 11:30', '2026-01-15 12:30', '2026-01-15 13:30', '2026-01-15 14:30', '2026-01-16 06:30', '2026-01-16 07:30', '2026-01-16 08:30', '2026-01-16 09:30', '2026-01-16 10:30', '2026-01-16 11:30', '2026-01-16 12:30', '2026-01-16 13:30', '2026-01-16 14:30', '2026-01-19 06:30', '2026-01-19 07:30', '2026-01-19 08:30', '2026-01-19 09:30', '2026-01-19 10:30', '2026-01-19 11:30', '2026-01-19 12:30', '2026-01-19 13:30', '2026-01-19 14:30', '2026-01-20 06:30', '2026-01-20 07:30', '2026-01-20 08:30', '2026-01-20 09:30', '2026-01-20 10:30', '2026-01-20 11:30', '2026-01-20 12:30', '2026-01-20 13:30', '2026-01-20 14:30', '2026-01-21 06:30', '2026-01-21 07:30', '2026-01-21 08:30', '2026-01-21 09:30', '2026-01-21 10:30', '2026-01-21 11:30', '2026-01-21 12:30', '2026-01-21 13:30', '2026-01-21 14:30', '2026-01-22 06:30', '2026-01-22 07:30', '2026-01-22 08:30', '2026-01-22 09:30', '2026-01-22 10:30', '2026-01-22 11:30', '2026-01-22 12:30', '2026-01-22 13:30', '2026-01-22 14:30', '2026-01-23 06:30', '2026-01-23 07:30', '2026-01-23 08:30', '2026-01-23 09:30', '2026-01-23 10:30', '2026-01-23 11:30', '2026-01-23 12:30', '2026-01-23 13:30', '2026-01-23 14:30', '2026-01-26 06:30', '2026-01-26 07:30', '2026-01-26 08:30', '2026-01-26 09:30', '2026-01-26 10:30', '2026-01-26 11:30', '2026-01-26 12:30', '2026-01-26 13:30', '2026-01-26 14:30', '2026-01-27 06:30', '2026-01-27 07:30', '2026-01-27 08:30', '2026-01-27 09:30', '2026-01-27 10:30', '2026-01-27 11:30', '2026-01-27 12:30', '2026-01-27 13:30', '2026-01-27 14:30', '2026-01-28 06:30', '2026-01-28 07:30', '2026-01-28 08:30', '2026-01-28 09:30', '2026-01-28 10:30', '2026-01-28 11:30', '2026-01-28 12:30', '2026-01-28 13:30', '2026-01-28 14:30', '2026-01-29 06:30', '2026-01-29 07:30', '2026-01-29 08:30', '2026-01-29 09:30', '2026-01-29 10:30', '2026-01-29 11:30', '2026-01-29 12:30', '2026-01-29 13:30', '2026-01-29 14:30', '2026-01-30 06:30', '2026-01-30 07:30', '2026-01-30 08:30', '2026-01-30 09:30', '2026-01-30 10:30', '2026-01-30 11:30', '2026-01-30 12:30', '2026-01-30 13:30', '2026-01-30 14:30', '2026-02-02 06:30', '2026-02-02 07:30', '2026-02-02 08:30', '2026-02-02 09:30', '2026-02-02 10:30', '2026-02-02 11:30', '2026-02-02 12:30', '2026-02-02 13:30', '2026-02-02 14:30', '2026-02-03 06:30', '2026-02-03 07:30', '2026-02-03 08:30', '2026-02-03 09:30', '2026-02-03 10:30', '2026-02-03 11:30', '2026-02-03 12:30', '2026-02-03 13:30', '2026-02-03 14:30', '2026-02-04 06:30', '2026-02-04 07:30', '2026-02-04 08:30', '2026-02-04 09:30', '2026-02-04 10:30', '2026-02-04 11:30', '2026-02-04 12:30', '2026-02-04 13:30', '2026-02-04 14:30', '2026-02-05 06:30', '2026-02-05 07:30', '2026-02-05 08:30', '2026-02-05 09:30', '2026-02-05 10:30', '2026-02-05 11:30', '2026-02-05 12:30', '2026-02-05 13:30', '2026-02-05 14:30', '2026-02-06 06:30', '2026-02-06 07:30', '2026-02-06 08:30', '2026-02-06 09:30', '2026-02-06 10:30', '2026-02-06 11:30', '2026-02-06 12:30', '2026-02-06 13:30', '2026-02-06 14:30', '2026-02-06 15:00']

        var prices = [207.80, 212.10, 209.50, 209.30, 211.70, 210.90, 211.00, 210.60, 211.60, 212.00, 215.60, 215.70, 215.50, 213.60, 214.20, 214.70, 215.30, 215.90, 217.30, 215.70, 216.60, 216.50, 216.70, 215.40, 215.50, 215.50, 216.90, 216.00, 220.70, 220.70, 220.40, 220.20, 220.00, 218.70, 219.00, 220.50, 221.00, 221.10, 221.90, 222.60, 222.00, 221.90, 219.40, 220.90, 221.20, 223.30, 225.30, 226.20, 228.20, 229.70, 229.60, 228.90, 228.60, 229.10, 229.20, 226.70, 227.90, 226.20, 224.90, 225.20, 225.30, 227.00, 227.60, 227.00, 225.80, 226.70, 226.90, 225.80, 223.40, 223.20, 224.20, 221.70, 222.60, 223.50, 223.30, 222.50, 221.70, 222.60, 221.90, 222.00, 223.90, 224.70, 227.40, 228.90, 231.30, 228.70, 227.90, 228.10, 229.30, 231.30, 233.00, 235.60, 234.20, 234.40, 234.10, 233.80, 234.40, 233.20, 232.40, 233.30, 236.90, 236.10, 236.60, 236.40, 234.80, 234.20, 234.50, 234.80, 234.70, 232.40, 232.50, 231.90, 231.50, 229.70, 229.10, 227.70, 227.20, 226.50, 226.40, 227.20, 227.20, 228.00, 226.90, 226.40, 225.00, 226.90, 225.90, 225.30, 225.30, 224.10, 224.40, 224.40, 226.80, 226.50, 226.30, 225.60, 226.20, 223.10, 224.40, 225.00, 225.40, 224.90, 226.30, 226.90, 229.30, 220.80, 218.90, 221.10, 222.30, 224.60, 225.50, 224.40, 223.80, 224.00, 228.80, 227.50, 226.80, 226.80, 227.10, 226.90, 227.10, 227.60, 229.30, 227.20, 226.90, 226.90, 224.60, 224.80, 225.70, 226.30, 227.10, 226.50, 228.20, 227.80, 226.60, 227.40, 226.50, 226.40, 228.10, 227.70, 227.00, 227.00, 225.10, 226.00, 227.50, 228.50, 226.90, 226.60, 228.30, 230.40, 230.40];

        var dailyChanges = [0.14, 1.82, -1.27, -0.10, 1.15, -0.38, 0.09, -0.19, 0.47, 0.19, 1.27, 0.05, -0.09, -0.84, 0.28, 0.23, 0.28, 0.28, 0.56, -0.96, 0.46, -0.05, 0.05, -0.60, 0.05, -0.09, 0.65, -0.41, 1.66, 0.00, -0.18, -0.09, -0.09, -0.59, 0.14, 0.64, 0.18, 0.96, 0.41, 0.32, -0.27, -0.09, -1.13, 0.64, 0.14, 0.90, 0.72, 0.44, 0.88, 0.66, -0.04, -0.30, -0.09, 0.22, 0.09, -2.03, 0.49, -0.75, -0.49, 0.18, 0.00, 0.75, 0.31, -0.31, -0.62, 0.35, 0.04, -0.48, -1.06, -0.04, 0.45, -1.12, 0.41, 0.81, 0.00, -0.36, -0.36, 0.41, -0.31, 0.09, 0.86, 0.31, 0.84, 0.70, 1.05, -1.12, -0.35, 0.13, 0.53, 0.83, 0.73, 0.04, -0.64, 0.13, -0.17, -0.13, 0.26, -0.47, -0.34, 0.39, 1.72, -0.38, 0.21, -0.13, -0.63, -0.26, 0.13, 0.13, -0.04, -0.98, 0.04, -0.26, -0.22, -0.82, -0.26, -0.61, -0.22, -0.26, -0.31, 0.35, 0.00, 0.35, -0.48, -0.22, -0.62, 0.84, -0.44, -0.31, 0.00, -0.53, 0.13, 0.00, 1.07, -0.13, -0.09, -0.27, 0.40, -1.28, 0.58, 0.31, 0.22, -0.22, 0.67, 0.31, 1.06, -3.66, -0.82, 1.01, 0.54, 0.99, 0.36, -0.44, -0.27, 0.13, 1.69, -0.57, -0.31, 0.00, 0.13, -0.13, 0.09, 0.22, 0.75, -1.00, -0.13, 0.00, -1.01, 0.09, 0.40, 0.27, 0.40, -0.26, 1.02, -0.22, -0.57, 0.35, -0.40, -0.09, 0.80, -0.22, -0.26, 0.31, -0.92, 0.44, 0.66, 0.44, -0.70, -0.09, 0.75, 0.92, 0.00]

        var sma20 = [204.93, 205.65, 206.26, 206.31, 206.53, 206.71, 206.92, 207.10, 207.37, 207.72, 208.27, 208.83, 209.48, 209.98, 210.45, 211.01, 211.60, 212.07, 212.60, 213.00, 213.44, 213.66, 214.02, 214.33, 214.52, 214.75, 215.04, 215.31, 215.76, 216.20, 216.44, 216.66, 216.89, 217.14, 217.38, 217.67, 217.96, 218.22, 218.45, 218.79, 219.06, 219.33, 219.47, 219.74, 220.03, 220.42, 220.84, 221.35, 221.72, 222.17, 222.63, 223.07, 223.50, 224.02, 224.53, 224.84, 225.18, 225.44, 225.59, 225.72, 225.88, 226.14, 226.55, 226.85, 227.08, 227.25, 227.33, 227.31, 227.07, 226.75, 226.48, 226.12, 225.82, 225.54, 225.24, 225.03, 224.72, 224.54, 224.39, 224.23, 224.16, 224.05, 224.04, 224.13, 224.41, 224.51, 224.56, 224.67, 224.97, 225.37, 225.81, 226.51, 227.09, 227.63, 228.17, 228.74, 229.37, 229.90, 230.43, 230.99, 231.64, 232.21, 232.68, 233.05, 233.23, 233.50, 233.83, 234.17, 234.43, 234.49, 234.46, 234.28, 234.14, 233.91, 233.66, 233.35, 232.99, 232.66, 232.36, 232.05, 231.57, 231.16, 230.68, 230.18, 229.69, 229.32, 228.89, 228.42, 227.95, 227.53, 227.13, 226.75, 226.52, 226.36, 226.22, 226.11, 226.06, 225.89, 225.79, 225.68, 225.59, 225.44, 225.41, 225.43, 225.65, 225.34, 224.99, 224.78, 224.63, 224.66, 224.72, 224.72, 224.57, 224.44, 224.57, 224.66, 224.69, 224.88, 225.01, 225.11, 225.19, 225.33, 225.48, 225.49, 225.37, 225.68, 225.96, 226.15, 226.32, 226.40, 226.48, 226.59, 226.81, 227.00, 226.89, 226.88, 226.87, 226.85, 226.90, 226.94, 226.93, 226.90, 226.69, 226.63, 226.66, 226.74, 226.86, 226.95, 227.08, 227.28, 227.44];

        var sma50 = [197.75, 198.23, 198.65, 199.06, 199.52, 199.95, 200.37, 200.79, 201.22, 201.66, 202.15, 202.65, 203.12, 203.54, 203.97, 204.39, 204.80, 205.25, 205.71, 206.12, 206.56, 207.00, 207.43, 207.84, 208.22, 208.60, 209.00, 209.39, 209.87, 210.36, 210.83, 211.28, 211.74, 211.94, 212.18, 212.44, 212.73, 213.01, 213.32, 213.67, 214.02, 214.37, 214.71, 215.05, 215.38, 215.78, 216.22, 216.61, 217.04, 217.48, 217.92, 218.25, 218.63, 219.03, 219.38, 219.70, 220.03, 220.35, 220.61, 220.88, 221.07, 221.30, 221.54, 221.81, 222.04, 222.28, 222.51, 222.71, 222.83, 222.98, 223.13, 223.24, 223.35, 223.52, 223.67, 223.81, 223.91, 224.04, 224.06, 224.09, 224.16, 224.25, 224.40, 224.60, 224.85, 225.01, 225.15, 225.29, 225.44, 225.61, 225.83, 226.11, 226.40, 226.67, 226.93, 227.14, 227.32, 227.46, 227.55, 227.62, 227.76, 227.91, 228.07, 228.21, 228.33, 228.48, 228.61, 228.78, 228.98, 229.12, 229.26, 229.36, 229.44, 229.49, 229.56, 229.58, 229.59, 229.60, 229.66, 229.74, 229.80, 229.93, 230.01, 230.07, 230.10, 230.19, 230.28, 230.33, 230.40, 230.44, 230.45, 230.44, 230.43, 230.38, 230.28, 230.22, 230.19, 230.09, 229.99, 229.86, 229.71, 229.50, 229.34, 229.19, 229.09, 228.83, 228.52, 228.28, 228.08, 227.91, 227.68, 227.44, 227.19, 226.94, 226.82, 226.69, 226.53, 226.37, 226.22, 226.11, 226.00, 225.92, 225.87, 225.82, 225.78, 225.76, 225.71, 225.68, 225.66, 225.64, 225.64, 225.61, 225.64, 225.67, 225.70, 225.71, 225.72, 225.74, 225.80, 225.87, 225.92, 225.97, 225.94, 225.93, 225.95, 226.01, 226.03, 226.10, 226.17, 226.28, 226.38];

        var ema12 = [205.41, 206.44, 206.91, 207.28, 207.96, 208.41, 208.81, 209.09, 209.47, 209.86, 210.74, 211.51, 212.12, 212.35, 212.63, 212.95, 213.31, 213.71, 214.26, 214.48, 214.81, 215.07, 215.32, 215.33, 215.36, 215.38, 215.61, 215.67, 216.45, 217.10, 217.61, 218.01, 218.31, 218.37, 218.47, 218.78, 219.12, 219.43, 219.81, 220.24, 220.51, 220.72, 220.52, 220.58, 220.67, 221.08, 221.73, 222.42, 223.31, 224.29, 225.11, 225.69, 226.14, 226.59, 226.99, 226.95, 227.10, 226.96, 226.64, 226.42, 226.25, 226.36, 226.55, 226.62, 226.50, 226.53, 226.58, 226.46, 225.99, 225.56, 225.35, 224.79, 224.45, 224.31, 224.15, 223.90, 223.56, 223.41, 223.18, 223.00, 223.14, 223.38, 224.00, 224.75, 225.76, 226.21, 226.47, 226.72, 227.12, 227.76, 228.57, 229.65, 230.35, 230.97, 231.45, 231.81, 232.21, 232.36, 232.37, 232.51, 233.19, 233.64, 234.09, 234.45, 234.50, 234.45, 234.46, 234.51, 234.54, 234.21, 233.95, 233.63, 233.31, 232.75, 232.19, 231.50, 230.84, 230.17, 229.59, 229.22, 228.91, 228.77, 228.48, 228.16, 227.68, 227.56, 227.30, 226.99, 226.73, 226.33, 226.03, 225.78, 225.94, 226.02, 226.07, 225.99, 226.03, 225.58, 225.40, 225.33, 225.34, 225.28, 225.43, 225.66, 226.22, 225.39, 224.39, 223.88, 223.64, 223.79, 224.05, 224.10, 224.06, 224.05, 224.78, 225.20, 225.44, 225.65, 225.88, 226.03, 226.20, 226.41, 226.86, 226.91, 226.91, 226.91, 226.55, 226.28, 226.19, 226.21, 226.35, 226.37, 226.65, 226.83, 226.79, 226.89, 226.83, 226.76, 226.97, 227.08, 227.07, 227.06, 226.76, 226.64, 226.77, 227.04, 227.02, 226.95, 227.16, 227.66, 228.08];

        var rsi = [70.15, 77.71, 66.71, 65.94, 70.37, 67.23, 67.42, 65.73, 67.90, 68.75, 75.15, 75.30, 74.32, 65.64, 66.95, 68.05, 69.36, 70.66, 73.48, 65.70, 67.77, 67.28, 67.78, 61.26, 61.57, 61.57, 65.94, 61.13, 72.44, 72.44, 70.91, 69.85, 68.75, 61.90, 62.82, 67.10, 68.41, 68.67, 70.81, 72.57, 68.74, 68.10, 54.38, 59.63, 60.61, 66.69, 71.24, 73.03, 76.52, 78.74, 78.21, 74.42, 72.80, 73.82, 74.03, 60.83, 64.14, 56.82, 51.94, 52.94, 53.29, 58.90, 60.69, 57.97, 52.86, 55.99, 56.68, 51.87, 43.25, 42.61, 46.82, 39.10, 42.76, 46.24, 45.58, 42.93, 40.40, 44.37, 42.02, 42.49, 50.64, 53.62, 61.97, 65.66, 70.59, 60.47, 57.73, 58.24, 61.26, 65.71, 68.97, 73.17, 67.84, 68.20, 67.00, 65.76, 67.07, 61.94, 58.71, 61.16, 69.07, 65.86, 66.90, 66.04, 59.43, 57.12, 58.00, 58.91, 58.45, 49.11, 49.48, 47.22, 45.71, 39.60, 37.79, 33.89, 32.59, 30.82, 30.56, 35.20, 35.20, 39.86, 36.02, 34.40, 30.30, 40.65, 37.49, 35.70, 35.70, 32.14, 33.92, 33.92, 46.82, 45.62, 44.80, 41.94, 45.17, 34.50, 40.82, 43.52, 45.32, 43.46, 49.68, 52.11, 60.37, 36.42, 33.25, 39.79, 43.07, 48.82, 50.91, 48.31, 46.91, 47.46, 58.54, 55.14, 53.35, 53.35, 54.09, 53.48, 54.04, 55.48, 60.06, 52.83, 51.87, 51.87, 44.65, 45.36, 48.57, 50.65, 53.36, 51.09, 56.70, 55.10, 50.49, 53.30, 49.88, 49.50, 55.68, 54.00, 51.11, 51.11, 43.72, 47.58, 53.34, 56.74, 50.40, 49.29, 55.31, 61.40, 61.40];

        // BUY/SELL signals
        var buyDates = [], buyPrices = [], buyTexts = [];
        var sellDates = [], sellPrices = [], sellTexts = [];
        buyDates.push('2026-01-08 14:30');
        buyPrices.push(207.80);
        buyTexts.push('AL (%67)');
        buyDates.push('2026-01-09 14:30');
        buyPrices.push(212.00);
        buyTexts.push('AL (%67)');
        buyDates.push('2026-01-12 14:30');
        buyPrices.push(217.30);
        buyTexts.push('GÃ¼Ã§lÃ¼ AL (%82)');
        buyDates.push('2026-01-13 14:30');
        buyPrices.push(216.00);
        buyTexts.push('AL (%67)');
        buyDates.push('2026-01-14 14:30');
        buyPrices.push(221.00);
        buyTexts.push('AL (%67)');
        buyDates.push('2026-01-15 14:30');
        buyPrices.push(223.30);
        buyTexts.push('GÃ¼Ã§lÃ¼ AL (%82)');
        buyDates.push('2026-01-16 14:30');
        buyPrices.push(229.20);
        buyTexts.push('GÃ¼Ã§lÃ¼ AL (%82)');
        buyDates.push('2026-01-19 14:30');
        buyPrices.push(227.00);
        buyTexts.push('AL (%67)');
        sellDates.push('2026-01-20 14:30');
        sellPrices.push(222.60);
        sellTexts.push('SAT (%67)');
        buyDates.push('2026-01-22 14:30');
        buyPrices.push(233.00);
        buyTexts.push('GÃ¼Ã§lÃ¼ AL (%82)');
        buyDates.push('2026-01-23 14:30');
        buyPrices.push(233.30);
        buyTexts.push('AL (%67)');
        buyDates.push('2026-01-26 14:30');
        buyPrices.push(234.70);
        buyTexts.push('AL (%67)');
        sellDates.push('2026-01-27 14:30');
        sellPrices.push(226.50);
        sellTexts.push('GÃ¼Ã§lÃ¼ SAT (%82)');
        sellDates.push('2026-01-28 14:30');
        sellPrices.push(225.90);
        sellTexts.push('GÃ¼Ã§lÃ¼ SAT (%82)');
        sellDates.push('2026-01-29 14:30');
        sellPrices.push(225.60);
        sellTexts.push('GÃ¼Ã§lÃ¼ SAT (%82)');
        buyDates.push('2026-01-30 14:30');
        buyPrices.push(229.30);
        buyTexts.push('AL (%67)');
        buyDates.push('2026-02-03 14:30');
        buyPrices.push(229.30);
        buyTexts.push('AL (%67)');
        buyDates.push('2026-02-06 15:00');
        buyPrices.push(230.40);
        buyTexts.push('GÃ¼Ã§lÃ¼ AL (%82)');

        // Price chart traces
        var tracePrice = {
            x: dates,
            y: prices,
            customdata: dailyChanges,
            type: 'scatter',
            mode: 'lines',
            name: 'KapanÄ±ÅŸ FiyatÄ±',
            line: { color: '#1a1a1a', width: 2 },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>Fiyat: %{y:.2f} TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: %{customdata:.2f}%<extra></extra>',
            yaxis: 'y'
        };

        var traceSMA20 = {
            x: dates,
            y: sma20,
            type: 'scatter',
            mode: 'lines',
            name: 'SMA20',
            line: { color: '#4285F4', width: 1.5, dash: 'dot' },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>SMA20: %{y:.2f} TL<extra></extra>',
            yaxis: 'y'
        };

        var traceSMA50 = {
            x: dates,
            y: sma50,
            type: 'scatter',
            mode: 'lines',
            name: 'SMA50',
            line: { color: '#FBBC05', width: 1.5, dash: 'dot' },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>SMA50: %{y:.2f} TL<extra></extra>',
            yaxis: 'y'
        };

        var traceEMA12 = {
            x: dates,
            y: ema12,
            type: 'scatter',
            mode: 'lines',
            name: 'EMA12',
            line: { color: '#34D399', width: 1.5, dash: 'dash' },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>EMA12: %{y:.2f} TL<extra></extra>',
            yaxis: 'y'
        };

        var traceBuySignals = {
            x: buyDates,
            y: buyPrices,
            text: buyTexts,
            type: 'scatter',
            mode: 'markers',
            name: 'AL Sinyali',
            marker: { color: '#22C55E', size: 12, symbol: 'triangle-up', line: { color: '#fff', width: 2 } },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>Fiyat: %{y:.2f} TL<br>%{text}<extra></extra>',
            yaxis: 'y'
        };

        var traceSellSignals = {
            x: sellDates,
            y: sellPrices,
            text: sellTexts,
            type: 'scatter',
            mode: 'markers',
            name: 'SAT Sinyali',
            marker: { color: '#EF4444', size: 12, symbol: 'triangle-down', line: { color: '#fff', width: 2 } },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>Fiyat: %{y:.2f} TL<br>%{text}<extra></extra>',
            yaxis: 'y'
        };

        // RSI chart trace
        var traceRSI = {
            x: dates,
            y: rsi,
            type: 'scatter',
            mode: 'lines',
            name: 'RSI(14)',
            line: { color: '#A855F7', width: 2 },
            hovertemplate: '<b>%{x}</b><br>RSI: %{y:.1f}<extra></extra>',
            yaxis: 'y2',
            xaxis: 'x'
        };

        var traceRSI70 = {
            x: dates,
            y: Array(dates.length).fill(70),
            type: 'scatter',
            mode: 'lines',
            name: 'RSI 70 (AÅŸÄ±rÄ± AlÄ±m)',
            line: { color: '#EF4444', width: 1, dash: 'dash' },
            showlegend: false,
            hoverinfo: 'skip',
            yaxis: 'y2',
            xaxis: 'x'
        };

        var traceRSI30 = {
            x: dates,
            y: Array(dates.length).fill(30),
            type: 'scatter',
            mode: 'lines',
            name: 'RSI 30 (AÅŸÄ±rÄ± SatÄ±ÅŸ)',
            line: { color: '#22C55E', width: 1, dash: 'dash' },
            showlegend: false,
            hoverinfo: 'skip',
            yaxis: 'y2',
            xaxis: 'x'
        };

        // Layout configuration
        var layout = {
            title: {
                text: 'DOAS - Son 586 GÃ¼nlÃ¼k Teknik Analiz',
                font: { size: 18, color: '#1a1a1a' }
            },
            xaxis: {
                title: 'Tarih',
                type: 'date',
                tickformat: '%Y-%m',
                nticks: 12,
                showgrid: true,
                gridcolor: '#e5e5e5'
            },
            yaxis: {
                title: 'Fiyat (â‚º)',
                domain: [0.3, 1],
                showgrid: true,
                gridcolor: '#e5e5e5'
            },
            yaxis2: {
                title: 'RSI',
                domain: [0, 0.25],
                range: [0, 100],
                showgrid: true,
                gridcolor: '#e5e5e5'
            },
            hovermode: 'closest',
            plot_bgcolor: '#fafafa',
            paper_bgcolor: '#ffffff',
            font: { family: 'Segoe UI, Arial', size: 12 },
            legend: {
                x: 0,
                y: 1.1,
                orientation: 'h',
                bgcolor: 'rgba(255,255,255,0.9)',
                bordercolor: '#e5e5e5',
                borderwidth: 1
            },
            margin: { t: 100, b: 80, l: 80, r: 50 }
        };

        var config = {
            responsive: true,
            displayModeBar: true,
            displaylogo: false,
            modeBarButtonsToRemove: ['toImage', 'sendDataToCloud'],
            locale: 'tr'
        };

        // Render chart
        var data = [tracePrice, traceSMA20, traceSMA50, traceEMA12, traceBuySignals, traceSellSignals, traceRSI, traceRSI70, traceRSI30];
        Plotly.newPlot('chart', data, layout, config);
    </script>
</body>
</html>
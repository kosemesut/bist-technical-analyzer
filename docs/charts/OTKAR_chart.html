<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OTKAR - Teknik Analiz</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <style>
        body { margin: 0; padding: 20px; background: #f5f5f5; font-family: 'Segoe UI', Arial, sans-serif; }
        .chart-container { background: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        h2 { margin: 0 0 20px 0; color: #1a1a1a; font-size: 24px; }
    </style>
</head>
<body>
    <div class="chart-container">
        <h2>ðŸ“Š OTKAR - Teknik Analiz GrafiÄŸi</h2>
        <div id="chart" style="width:100%; height:800px;"></div>
    </div>
    <script>
        // Data preparation (daily aggregated)
        var dates = ['2025-11-27', '2025-11-28', '2025-12-01', '2025-12-02', '2025-12-03', '2025-12-04', '2025-12-05', '2025-12-08', '2025-12-09', '2025-12-10', '2025-12-11', '2025-12-12', '2025-12-15', '2025-12-16', '2025-12-17', '2025-12-18', '2025-12-19', '2025-12-22', '2025-12-23', '2025-12-24', '2025-12-25', '2025-12-26', '2025-12-29', '2025-12-30', '2025-12-31', '2026-01-02', '2026-01-05', '2026-01-06', '2026-01-07', '2026-01-08', '2026-01-09', '2026-01-12', '2026-01-13', '2026-01-14', '2026-01-15', '2026-01-16', '2026-01-19', '2026-01-20', '2026-01-21', '2026-01-22', '2026-01-23', '2026-01-26', '2026-01-27', '2026-01-28', '2026-01-29', '2026-01-30', '2026-02-02', '2026-02-03', '2026-02-04', '2026-02-05', '2026-02-06', '2026-02-09', '2026-02-10', '2026-02-11', '2026-02-12', '2026-02-13', '2026-02-16', '2026-02-17', '2026-02-18', '2026-02-19', '2026-02-20', '2026-02-23', '2026-02-24', '2026-02-25', '2026-02-26']

        var prices = [453.75, 457.75, 460.25, 482.50, 473.00, 487.00, 492.00, 529.00, 520.00, 510.00, 492.50, 495.75, 498.50, 490.50, 485.00, 494.25, 493.50, 485.25, 481.00, 478.25, 477.50, 479.00, 466.75, 474.00, 486.00, 480.00, 488.25, 500.00, 488.00, 502.00, 510.50, 510.00, 523.50, 521.50, 530.00, 477.00, 432.75, 420.00, 407.00, 414.00, 418.25, 416.75, 414.50, 438.50, 432.25, 431.50, 431.00, 435.25, 435.25, 431.50, 439.00, 462.50, 443.25, 444.50, 460.50, 468.00, 431.75, 432.00, 423.00, 414.75, 409.75, 409.00, 403.50, 387.75, 387.00];

        var opens = [455.50, 455.00, 458.50, 475.00, 484.75, 474.25, 494.75, 493.00, 529.50, 520.00, 507.50, 494.00, 496.50, 499.75, 491.25, 486.75, 495.25, 494.75, 484.50, 481.00, 477.25, 477.50, 478.75, 466.00, 474.75, 489.75, 482.00, 491.00, 500.50, 494.00, 500.00, 510.00, 513.00, 525.00, 520.00, 477.00, 435.75, 433.75, 425.00, 408.00, 415.50, 418.25, 417.50, 426.25, 437.75, 432.50, 430.75, 431.00, 436.25, 433.50, 433.00, 444.75, 448.00, 444.00, 445.50, 462.00, 430.00, 431.00, 432.50, 422.75, 414.75, 412.25, 408.00, 404.00, 388.75];

        var highs = [458.75, 462.75, 461.75, 492.00, 485.00, 491.75, 494.75, 540.00, 531.00, 528.00, 507.50, 499.75, 500.00, 499.75, 492.00, 494.75, 495.75, 497.00, 486.50, 481.75, 484.75, 479.75, 484.25, 481.50, 489.75, 489.75, 489.00, 500.00, 503.50, 513.50, 516.50, 523.50, 527.00, 530.00, 533.00, 489.00, 453.00, 440.00, 425.00, 417.25, 424.75, 422.25, 421.50, 440.75, 443.75, 434.50, 436.50, 437.00, 439.75, 436.25, 441.75, 463.75, 456.50, 446.75, 460.50, 470.75, 443.75, 436.00, 433.50, 428.50, 417.75, 416.75, 410.25, 405.50, 393.75];

        var lows = [452.00, 453.00, 455.75, 475.00, 470.75, 471.50, 484.00, 493.00, 512.00, 500.00, 485.00, 493.00, 492.50, 489.75, 484.00, 486.75, 491.25, 482.50, 480.50, 475.00, 476.00, 475.00, 466.00, 456.75, 474.75, 478.00, 479.00, 489.00, 485.50, 492.75, 494.50, 509.50, 507.50, 516.00, 518.50, 477.00, 430.50, 412.25, 404.75, 403.75, 415.25, 414.25, 412.75, 424.25, 430.25, 423.75, 424.25, 430.00, 434.50, 430.00, 430.50, 440.75, 440.50, 438.75, 444.00, 458.50, 424.50, 429.50, 422.25, 412.25, 400.00, 408.25, 401.25, 386.75, 381.75];

        var volumes = [358551, 140997, 171777, 594078, 402496, 485668, 205247, 775399, 361516, 256749, 616300, 214838, 263933, 136377, 149459, 199877, 90462, 133356, 100679, 194623, 52870, 72921, 124630, 456674, 370107, 163737, 246798, 298376, 402770, 971961, 672403, 436068, 490765, 485165, 530249, 529048, 4383255, 2015411, 1608268, 1281858, 969673, 797735, 707716, 2374062, 1509898, 825817, 862424, 1083541, 715938, 659747, 1302510, 1457490, 1143565, 574116, 1087311, 918725, 4052272, 1068029, 1624106, 1061017, 863569, 870008, 597777, 1008707, 1358932];

        var dailyChanges = [-0.38, 0.88, 0.55, 4.83, -1.97, 2.96, 1.03, 7.52, -1.70, -1.92, -3.43, 0.66, 0.55, -1.60, -1.12, 1.91, -0.15, -1.67, -0.88, -0.57, -0.16, 0.31, -2.56, 1.55, 2.53, -1.23, 1.72, 2.41, -2.40, 2.87, 1.69, -0.10, 2.65, -0.38, 1.63, -10.00, -9.28, -2.95, -3.10, 1.72, 1.03, -0.36, -0.54, 5.79, -1.43, -0.17, -0.12, 0.99, 0.00, -0.86, 1.74, 5.35, -4.16, 0.28, 3.60, 1.63, -7.75, 0.06, -2.08, -1.95, -1.21, -0.18, -1.34, -3.90, -0.19];

        var closingTimes = ['17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '17:30', '18:00'];

        var signalTypes = ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 'GÃ¼Ã§lÃ¼ SAT (Skor: -7, 3 gÃ¶sterge)', '', 'AL (Skor: 7, 2 gÃ¶sterge)', '', 'GÃ¼Ã§lÃ¼ AL (Skor: 12, 4 gÃ¶sterge)', 'GÃ¼Ã§lÃ¼ AL (Skor: 14, 5 gÃ¶sterge)', '', '', 'GÃ¼Ã§lÃ¼ AL (Skor: 10, 3 gÃ¶sterge)', 'AL (Skor: 8, 2 gÃ¶sterge)', 'GÃ¼Ã§lÃ¼ AL (Skor: 10, 3 gÃ¶sterge)', 'AL (Skor: 8, 2 gÃ¶sterge)', 'GÃ¼Ã§lÃ¼ AL (Skor: 12, 4 gÃ¶sterge)', 'GÃ¼Ã§lÃ¼ SAT (Skor: -10, 3 gÃ¶sterge)', 'GÃ¼Ã§lÃ¼ SAT (Skor: -8, 4 gÃ¶sterge)', 'GÃ¼Ã§lÃ¼ SAT (Skor: -6, 3 gÃ¶sterge)', 'GÃ¼Ã§lÃ¼ SAT (Skor: -8, 4 gÃ¶sterge)', '', '', 'GÃ¼Ã§lÃ¼ SAT (Skor: -9, 3 gÃ¶sterge)', 'GÃ¼Ã§lÃ¼ SAT (Skor: -7, 3 gÃ¶sterge)', '', '', '', '', 'GÃ¼Ã§lÃ¼ AL (Skor: 11, 4 gÃ¶sterge)', 'AL (Skor: 4, 3 gÃ¶sterge)', 'SAT (Skor: -5, 2 gÃ¶sterge)', 'GÃ¼Ã§lÃ¼ AL (Skor: 8, 3 gÃ¶sterge)', 'GÃ¼Ã§lÃ¼ AL (Skor: 12, 4 gÃ¶sterge)', '', '', 'GÃ¼Ã§lÃ¼ AL (Skor: 10, 4 gÃ¶sterge)', 'AL (Skor: 8, 2 gÃ¶sterge)', 'SAT (Skor: -7, 2 gÃ¶sterge)', '', 'GÃ¼Ã§lÃ¼ SAT (Skor: -12, 4 gÃ¶sterge)', 'GÃ¼Ã§lÃ¼ SAT (Skor: -10, 3 gÃ¶sterge)', 'SAT (Skor: -5, 3 gÃ¶sterge)', 'SAT (Skor: -6, 2 gÃ¶sterge)', 'SAT (Skor: -8, 2 gÃ¶sterge)', 'GÃ¼Ã§lÃ¼ SAT (Skor: -12, 4 gÃ¶sterge)', 'GÃ¼Ã§lÃ¼ SAT (Skor: -10, 3 gÃ¶sterge)'];

        var dayNames = ['PerÅŸembe', 'Cuma', 'Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'Cuma', 'Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe'];

        var sma20 = [null, null, 457.81, 469.88, 477.73, 480.18, 486.09, 506.71, 520.20, 519.40, 506.89, 496.76, 495.90, 494.59, 490.80, 489.90, 492.06, 490.70, 486.28, 480.71, 479.15, 478.89, 474.49, 471.38, 475.94, 481.55, 482.58, 487.83, 493.39, 498.13, 500.58, 507.44, 514.35, 518.05, 524.43, 503.90, 463.55, 437.10, 421.61, 412.26, 415.84, 418.26, 417.26, 426.31, 434.50, 433.26, 430.94, 432.80, 435.00, 434.75, 434.33, 444.78, 452.08, 448.30, 446.84, 457.75, 451.36, 436.49, 429.81, 423.85, 415.54, 411.58, 409.08, 402.05, 392.59];

        var sma50 = [null, null, null, null, null, 470.36, 476.46, 488.93, 497.67, 504.60, 507.26, 509.00, 507.10, 501.21, 495.40, 492.87, 492.64, 491.22, 489.00, 486.75, 485.25, 482.42, 478.67, 475.96, 476.56, 476.93, 477.79, 481.17, 485.76, 490.38, 493.63, 499.53, 504.48, 509.09, 514.62, 510.50, 497.04, 482.14, 462.58, 442.67, 427.34, 419.83, 416.70, 419.88, 424.28, 426.70, 429.01, 432.06, 434.10, 433.09, 433.89, 438.56, 441.60, 443.00, 445.91, 452.20, 450.06, 445.93, 442.49, 437.75, 428.80, 421.45, 416.51, 410.52, 403.23];

        var ema12 = [null, 456.84, 458.19, 477.61, 475.95, 483.45, 489.34, 519.59, 519.13, 516.55, 497.48, 496.86, 496.74, 493.19, 488.25, 491.97, 492.63, 488.14, 483.78, 478.88, 479.62, 478.02, 471.61, 471.66, 481.43, 481.03, 483.25, 492.53, 492.32, 500.22, 503.12, 510.69, 515.55, 520.77, 526.04, 487.90, 446.59, 431.74, 414.65, 413.65, 418.41, 417.48, 416.57, 433.31, 434.17, 431.10, 431.55, 433.62, 435.69, 433.33, 435.88, 453.07, 450.03, 445.23, 451.34, 464.10, 440.17, 434.01, 427.61, 419.85, 411.59, 411.74, 406.40, 397.64, 389.65];

        var rsi = [null, 52.55, 58.03, 70.98, 50.22, 62.19, 64.09, 73.31, 60.18, 43.44, 37.51, 42.73, 50.08, 36.45, 33.98, 56.78, 54.62, 34.54, 29.15, 37.74, 38.56, 48.70, 25.26, 51.67, 64.05, 50.94, 68.43, 75.21, 45.40, 57.93, 62.51, 54.82, 66.89, 57.44, 66.71, 21.37, 14.22, 24.19, 21.27, 37.62, 45.15, 43.91, 40.80, 70.51, 52.11, 51.84, 49.63, 57.21, 52.12, 43.52, 61.04, 78.56, 43.41, 47.89, 71.62, 68.67, 32.65, 37.48, 28.66, 28.51, 31.95, 33.76, 31.71, 15.84, 32.76];

        // BUY/SELL signals (4 types)
        var alDates = [], alPrices = [], alTexts = [];
        var strongAlDates = [], strongAlPrices = [], strongAlTexts = [];
        var satDates = [], satPrices = [], satTexts = [];
        var strongSatDates = [], strongSatPrices = [], strongSatTexts = [];
        strongSatDates.push('2025-12-29');
        strongSatPrices.push(466.75);
        strongSatTexts.push('<b>Tarih: 2025-12-29 (Pazartesi)</b><br>AÃ§Ä±lÄ±ÅŸ: 478.75 TL<br>KapanÄ±ÅŸ: 466.75 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -2.56%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: GÃ¼Ã§lÃ¼ SAT (Skor: -7, 3 gÃ¶sterge)');
        alDates.push('2025-12-31');
        alPrices.push(486.00);
        alTexts.push('<b>Tarih: 2025-12-31 (Ã‡arÅŸamba)</b><br>AÃ§Ä±lÄ±ÅŸ: 474.75 TL<br>KapanÄ±ÅŸ: 486.00 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 2.53%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: AL (Skor: 7, 2 gÃ¶sterge)');
        strongAlDates.push('2026-01-05');
        strongAlPrices.push(488.25);
        strongAlTexts.push('<b>Tarih: 2026-01-05 (Pazartesi)</b><br>AÃ§Ä±lÄ±ÅŸ: 482.00 TL<br>KapanÄ±ÅŸ: 488.25 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 1.72%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: GÃ¼Ã§lÃ¼ AL (Skor: 12, 4 gÃ¶sterge)');
        strongAlDates.push('2026-01-06');
        strongAlPrices.push(500.00);
        strongAlTexts.push('<b>Tarih: 2026-01-06 (SalÄ±)</b><br>AÃ§Ä±lÄ±ÅŸ: 491.00 TL<br>KapanÄ±ÅŸ: 500.00 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 2.41%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: GÃ¼Ã§lÃ¼ AL (Skor: 14, 5 gÃ¶sterge)');
        strongAlDates.push('2026-01-09');
        strongAlPrices.push(510.50);
        strongAlTexts.push('<b>Tarih: 2026-01-09 (Cuma)</b><br>AÃ§Ä±lÄ±ÅŸ: 500.00 TL<br>KapanÄ±ÅŸ: 510.50 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 1.69%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: GÃ¼Ã§lÃ¼ AL (Skor: 10, 3 gÃ¶sterge)');
        alDates.push('2026-01-12');
        alPrices.push(510.00);
        alTexts.push('<b>Tarih: 2026-01-12 (Pazartesi)</b><br>AÃ§Ä±lÄ±ÅŸ: 510.00 TL<br>KapanÄ±ÅŸ: 510.00 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -0.10%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: AL (Skor: 8, 2 gÃ¶sterge)');
        strongAlDates.push('2026-01-13');
        strongAlPrices.push(523.50);
        strongAlTexts.push('<b>Tarih: 2026-01-13 (SalÄ±)</b><br>AÃ§Ä±lÄ±ÅŸ: 513.00 TL<br>KapanÄ±ÅŸ: 523.50 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 2.65%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: GÃ¼Ã§lÃ¼ AL (Skor: 10, 3 gÃ¶sterge)');
        alDates.push('2026-01-14');
        alPrices.push(521.50);
        alTexts.push('<b>Tarih: 2026-01-14 (Ã‡arÅŸamba)</b><br>AÃ§Ä±lÄ±ÅŸ: 525.00 TL<br>KapanÄ±ÅŸ: 521.50 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -0.38%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: AL (Skor: 8, 2 gÃ¶sterge)');
        strongAlDates.push('2026-01-15');
        strongAlPrices.push(530.00);
        strongAlTexts.push('<b>Tarih: 2026-01-15 (PerÅŸembe)</b><br>AÃ§Ä±lÄ±ÅŸ: 520.00 TL<br>KapanÄ±ÅŸ: 530.00 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 1.63%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: GÃ¼Ã§lÃ¼ AL (Skor: 12, 4 gÃ¶sterge)');
        strongSatDates.push('2026-01-16');
        strongSatPrices.push(477.00);
        strongSatTexts.push('<b>Tarih: 2026-01-16 (Cuma)</b><br>AÃ§Ä±lÄ±ÅŸ: 477.00 TL<br>KapanÄ±ÅŸ: 477.00 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -10.00%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: GÃ¼Ã§lÃ¼ SAT (Skor: -10, 3 gÃ¶sterge)');
        strongSatDates.push('2026-01-19');
        strongSatPrices.push(432.75);
        strongSatTexts.push('<b>Tarih: 2026-01-19 (Pazartesi)</b><br>AÃ§Ä±lÄ±ÅŸ: 435.75 TL<br>KapanÄ±ÅŸ: 432.75 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -9.28%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: GÃ¼Ã§lÃ¼ SAT (Skor: -8, 4 gÃ¶sterge)');
        strongSatDates.push('2026-01-20');
        strongSatPrices.push(420.00);
        strongSatTexts.push('<b>Tarih: 2026-01-20 (SalÄ±)</b><br>AÃ§Ä±lÄ±ÅŸ: 433.75 TL<br>KapanÄ±ÅŸ: 420.00 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -2.95%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: GÃ¼Ã§lÃ¼ SAT (Skor: -6, 3 gÃ¶sterge)');
        strongSatDates.push('2026-01-21');
        strongSatPrices.push(407.00);
        strongSatTexts.push('<b>Tarih: 2026-01-21 (Ã‡arÅŸamba)</b><br>AÃ§Ä±lÄ±ÅŸ: 425.00 TL<br>KapanÄ±ÅŸ: 407.00 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -3.10%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: GÃ¼Ã§lÃ¼ SAT (Skor: -8, 4 gÃ¶sterge)');
        strongSatDates.push('2026-01-26');
        strongSatPrices.push(416.75);
        strongSatTexts.push('<b>Tarih: 2026-01-26 (Pazartesi)</b><br>AÃ§Ä±lÄ±ÅŸ: 418.25 TL<br>KapanÄ±ÅŸ: 416.75 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -0.36%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: GÃ¼Ã§lÃ¼ SAT (Skor: -9, 3 gÃ¶sterge)');
        strongSatDates.push('2026-01-27');
        strongSatPrices.push(414.50);
        strongSatTexts.push('<b>Tarih: 2026-01-27 (SalÄ±)</b><br>AÃ§Ä±lÄ±ÅŸ: 417.50 TL<br>KapanÄ±ÅŸ: 414.50 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -0.54%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: GÃ¼Ã§lÃ¼ SAT (Skor: -7, 3 gÃ¶sterge)');
        strongAlDates.push('2026-02-03');
        strongAlPrices.push(435.25);
        strongAlTexts.push('<b>Tarih: 2026-02-03 (SalÄ±)</b><br>AÃ§Ä±lÄ±ÅŸ: 431.00 TL<br>KapanÄ±ÅŸ: 435.25 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 0.99%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: GÃ¼Ã§lÃ¼ AL (Skor: 11, 4 gÃ¶sterge)');
        alDates.push('2026-02-04');
        alPrices.push(435.25);
        alTexts.push('<b>Tarih: 2026-02-04 (Ã‡arÅŸamba)</b><br>AÃ§Ä±lÄ±ÅŸ: 436.25 TL<br>KapanÄ±ÅŸ: 435.25 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 0.00%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: AL (Skor: 4, 3 gÃ¶sterge)');
        satDates.push('2026-02-05');
        satPrices.push(431.50);
        satTexts.push('<b>Tarih: 2026-02-05 (PerÅŸembe)</b><br>AÃ§Ä±lÄ±ÅŸ: 433.50 TL<br>KapanÄ±ÅŸ: 431.50 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -0.86%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: SAT (Skor: -5, 2 gÃ¶sterge)');
        strongAlDates.push('2026-02-06');
        strongAlPrices.push(439.00);
        strongAlTexts.push('<b>Tarih: 2026-02-06 (Cuma)</b><br>AÃ§Ä±lÄ±ÅŸ: 433.00 TL<br>KapanÄ±ÅŸ: 439.00 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 1.74%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: GÃ¼Ã§lÃ¼ AL (Skor: 8, 3 gÃ¶sterge)');
        strongAlDates.push('2026-02-09');
        strongAlPrices.push(462.50);
        strongAlTexts.push('<b>Tarih: 2026-02-09 (Pazartesi)</b><br>AÃ§Ä±lÄ±ÅŸ: 444.75 TL<br>KapanÄ±ÅŸ: 462.50 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 5.35%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: GÃ¼Ã§lÃ¼ AL (Skor: 12, 4 gÃ¶sterge)');
        strongAlDates.push('2026-02-12');
        strongAlPrices.push(460.50);
        strongAlTexts.push('<b>Tarih: 2026-02-12 (PerÅŸembe)</b><br>AÃ§Ä±lÄ±ÅŸ: 445.50 TL<br>KapanÄ±ÅŸ: 460.50 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 3.60%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: GÃ¼Ã§lÃ¼ AL (Skor: 10, 4 gÃ¶sterge)');
        alDates.push('2026-02-13');
        alPrices.push(468.00);
        alTexts.push('<b>Tarih: 2026-02-13 (Cuma)</b><br>AÃ§Ä±lÄ±ÅŸ: 462.00 TL<br>KapanÄ±ÅŸ: 468.00 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 1.63%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: AL (Skor: 8, 2 gÃ¶sterge)');
        satDates.push('2026-02-16');
        satPrices.push(431.75);
        satTexts.push('<b>Tarih: 2026-02-16 (Pazartesi)</b><br>AÃ§Ä±lÄ±ÅŸ: 430.00 TL<br>KapanÄ±ÅŸ: 431.75 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -7.75%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: SAT (Skor: -7, 2 gÃ¶sterge)');
        strongSatDates.push('2026-02-18');
        strongSatPrices.push(423.00);
        strongSatTexts.push('<b>Tarih: 2026-02-18 (Ã‡arÅŸamba)</b><br>AÃ§Ä±lÄ±ÅŸ: 432.50 TL<br>KapanÄ±ÅŸ: 423.00 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -2.08%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: GÃ¼Ã§lÃ¼ SAT (Skor: -12, 4 gÃ¶sterge)');
        strongSatDates.push('2026-02-19');
        strongSatPrices.push(414.75);
        strongSatTexts.push('<b>Tarih: 2026-02-19 (PerÅŸembe)</b><br>AÃ§Ä±lÄ±ÅŸ: 422.75 TL<br>KapanÄ±ÅŸ: 414.75 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -1.95%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: GÃ¼Ã§lÃ¼ SAT (Skor: -10, 3 gÃ¶sterge)');
        satDates.push('2026-02-20');
        satPrices.push(409.75);
        satTexts.push('<b>Tarih: 2026-02-20 (Cuma)</b><br>AÃ§Ä±lÄ±ÅŸ: 414.75 TL<br>KapanÄ±ÅŸ: 409.75 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -1.21%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: SAT (Skor: -5, 3 gÃ¶sterge)');
        satDates.push('2026-02-23');
        satPrices.push(409.00);
        satTexts.push('<b>Tarih: 2026-02-23 (Pazartesi)</b><br>AÃ§Ä±lÄ±ÅŸ: 412.25 TL<br>KapanÄ±ÅŸ: 409.00 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -0.18%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: SAT (Skor: -6, 2 gÃ¶sterge)');
        satDates.push('2026-02-24');
        satPrices.push(403.50);
        satTexts.push('<b>Tarih: 2026-02-24 (SalÄ±)</b><br>AÃ§Ä±lÄ±ÅŸ: 408.00 TL<br>KapanÄ±ÅŸ: 403.50 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -1.34%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: SAT (Skor: -8, 2 gÃ¶sterge)');
        strongSatDates.push('2026-02-25');
        strongSatPrices.push(387.75);
        strongSatTexts.push('<b>Tarih: 2026-02-25 (Ã‡arÅŸamba)</b><br>AÃ§Ä±lÄ±ÅŸ: 404.00 TL<br>KapanÄ±ÅŸ: 387.75 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -3.90%<br>KapanÄ±ÅŸ Saati: 17:30<br>Sinyal: GÃ¼Ã§lÃ¼ SAT (Skor: -12, 4 gÃ¶sterge)');
        strongSatDates.push('2026-02-26');
        strongSatPrices.push(387.00);
        strongSatTexts.push('<b>Tarih: 2026-02-26 (PerÅŸembe)</b><br>AÃ§Ä±lÄ±ÅŸ: 388.75 TL<br>KapanÄ±ÅŸ: 387.00 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -0.19%<br>KapanÄ±ÅŸ Saati: 18:00<br>Sinyal: GÃ¼Ã§lÃ¼ SAT (Skor: -10, 3 gÃ¶sterge)');

        // Build custom data for hover template
        var customdata = [];
        for (let i = 0; i < dates.length; i++) {
            customdata.push([opens[i], dailyChanges[i], closingTimes[i], signalTypes[i], dayNames[i], volumes[i]]);
        }

        // Price chart traces
        var tracePrice = {
            x: dates,
            y: prices,
            customdata: customdata,
            type: 'scatter',
            mode: 'lines',
            name: 'KapanÄ±ÅŸ FiyatÄ±',
            line: { color: '#1a1a1a', width: 2 },
            hovertemplate: '<b>Tarih: %{x} (%{customdata[4]})</b><br>AÃ§Ä±lÄ±ÅŸ: %{customdata[0]:.2f} TL<br>KapanÄ±ÅŸ: %{y:.2f} TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: %{customdata[1]:.2f}%<br>KapanÄ±ÅŸ Saati: %{customdata[2]}<br>GÃ¼nlÃ¼k Hacim: %{customdata[5]:,.0f}<br>Sinyal: %{customdata[3]}<extra></extra>',
            yaxis: 'y'
        };

        var traceSMA20 = {
            x: dates,
            y: sma20,
            type: 'scatter',
            mode: 'lines',
            name: 'SMA20',
            line: { color: '#4285F4', width: 1.5, dash: 'dot' },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>SMA20: %{y:.2f} TL<extra></extra>',
            visible: false,
            yaxis: 'y'
        };

        var traceSMA50 = {
            x: dates,
            y: sma50,
            type: 'scatter',
            mode: 'lines',
            name: 'SMA50',
            line: { color: '#FBBC05', width: 1.5, dash: 'dot' },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>SMA50: %{y:.2f} TL<extra></extra>',
            visible: false,
            yaxis: 'y'
        };

        var traceEMA12 = {
            x: dates,
            y: ema12,
            type: 'scatter',
            mode: 'lines',
            name: 'EMA12',
            line: { color: '#34D399', width: 1.5, dash: 'dash' },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>EMA12: %{y:.2f} TL<extra></extra>',
            visible: false,
            yaxis: 'y'
        };

        var traceAlSignals = {
            x: alDates,
            y: alPrices,
            text: alTexts,
            type: 'scatter',
            mode: 'markers',
            name: 'AL Sinyali',
            marker: { color: '#4ADE80', size: 12, symbol: 'triangle-up', line: { color: '#fff', width: 2 } },
            hovertemplate: '%{text}<extra></extra>',
            yaxis: 'y'
        };

        var traceStrongAlSignals = {
            x: strongAlDates,
            y: strongAlPrices,
            text: strongAlTexts,
            type: 'scatter',
            mode: 'markers',
            name: 'GÃœÃ‡LÃœ AL Sinyali',
            marker: { color: '#15803D', size: 13, symbol: 'triangle-up', line: { color: '#fff', width: 2 } },
            hovertemplate: '%{text}<extra></extra>',
            yaxis: 'y'
        };

        var traceSatSignals = {
            x: satDates,
            y: satPrices,
            text: satTexts,
            type: 'scatter',
            mode: 'markers',
            name: 'SAT Sinyali',
            marker: { color: '#FB7185', size: 12, symbol: 'triangle-down', line: { color: '#fff', width: 2 } },
            hovertemplate: '%{text}<extra></extra>',
            yaxis: 'y'
        };

        var traceStrongSatSignals = {
            x: strongSatDates,
            y: strongSatPrices,
            text: strongSatTexts,
            type: 'scatter',
            mode: 'markers',
            name: 'GÃœÃ‡LÃœ SAT Sinyali',
            marker: { color: '#991B1B', size: 13, symbol: 'triangle-down', line: { color: '#fff', width: 2 } },
            hovertemplate: '%{text}<extra></extra>',
            yaxis: 'y'
        };

        // RSI chart trace (hidden)
        var traceRSI = {
            x: dates,
            y: rsi,
            type: 'scatter',
            mode: 'lines',
            name: 'RSI(14)',
            line: { color: '#A855F7', width: 2 },
            hovertemplate: '<b>%{x}</b><br>RSI: %{y:.1f}<extra></extra>',
            visible: false,
            showlegend: false,
            yaxis: 'y2',
            xaxis: 'x'
        };

        var traceVolume = {
            x: dates,
            y: volumes,
            type: 'bar',
            mode: 'markers',
            name: 'Hacim',
            marker: { color: 'rgba(68, 85, 102, 0.5)' },
            hovertemplate: '<b>Tarih: %{x|%Y-%m-%d}</b><br>Hacim: %{y:,.0f}<extra></extra>',
            visible: true,
            yaxis: 'y2',
            xaxis: 'x'
        };

        var traceRSI70 = {
            x: dates,
            y: Array(dates.length).fill(70),
            type: 'scatter',
            mode: 'lines',
            name: 'RSI 70 (AÅŸÄ±rÄ± AlÄ±m)',
            line: { color: '#EF4444', width: 1, dash: 'dash' },
            visible: false,
            showlegend: false,
            hoverinfo: 'skip',
            yaxis: 'y2',
            xaxis: 'x'
        };

        var traceRSI30 = {
            x: dates,
            y: Array(dates.length).fill(30),
            type: 'scatter',
            mode: 'lines',
            name: 'RSI 30 (AÅŸÄ±rÄ± SatÄ±ÅŸ)',
            line: { color: '#22C55E', width: 1, dash: 'dash' },
            visible: false,
            showlegend: false,
            hoverinfo: 'skip',
            yaxis: 'y2',
            xaxis: 'x'
        };

        // Layout configuration
        var layout = {
            title: {
                text: 'OTKAR - Teknik Analiz',
                font: { size: 18, color: '#1a1a1a' }
            },
            xaxis: {
                title: 'Tarih',
                type: 'date',
                tickformat: '%Y-%m',
                nticks: 12,
                showgrid: true,
                gridcolor: '#e5e5e5'
            },
            yaxis: {
                title: 'Fiyat (â‚º)',
                domain: [0.3, 1],
                showgrid: true,
                gridcolor: '#e5e5e5'
            },
            yaxis2: {
                title: 'Hacim',
                domain: [0, 0.25],
                showgrid: true,
                gridcolor: '#e5e5e5'
            },
            hovermode: 'closest',
            plot_bgcolor: '#fafafa',
            paper_bgcolor: '#ffffff',
            font: { family: 'Segoe UI, Arial', size: 12 },
            legend: {
                x: 0,
                y: 1.1,
                orientation: 'h',
                bgcolor: 'rgba(255,255,255,0.9)',
                bordercolor: '#e5e5e5',
                borderwidth: 1
            },
            margin: { t: 100, b: 80, l: 80, r: 50 }
        };

        var config = {
            responsive: true,
            displayModeBar: true,
            displaylogo: false,
            modeBarButtonsToRemove: ['toImage', 'sendDataToCloud'],
            locale: 'tr'
        };

        // Render chart
        var data = [tracePrice, traceSMA20, traceSMA50, traceEMA12, traceAlSignals, traceStrongAlSignals, traceSatSignals, traceStrongSatSignals, traceVolume, traceRSI, traceRSI70, traceRSI30];
        Plotly.newPlot('chart', data, layout, config);
    </script>
</body>
</html>
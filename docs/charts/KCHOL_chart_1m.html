<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KCHOL - Teknik Analiz</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <style>
        body { margin: 0; padding: 20px; background: #f5f5f5; font-family: 'Segoe UI', Arial, sans-serif; }
        .chart-container { background: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        h2 { margin: 0 0 20px 0; color: #1a1a1a; font-size: 24px; }
    </style>
</head>
<body>
    <div class="chart-container">
        <h2>ðŸ“Š KCHOL - Teknik Analiz GrafiÄŸi</h2>
        <div id="chart" style="width:100%; height:800px;"></div>
    </div>
    <script>
        // Data preparation
        var dates = ['2026-01-08 14:30', '2026-01-09 06:30', '2026-01-09 07:30', '2026-01-09 08:30', '2026-01-09 09:30', '2026-01-09 10:30', '2026-01-09 11:30', '2026-01-09 12:30', '2026-01-09 13:30', '2026-01-09 14:30', '2026-01-12 06:30', '2026-01-12 07:30', '2026-01-12 08:30', '2026-01-12 09:30', '2026-01-12 10:30', '2026-01-12 11:30', '2026-01-12 12:30', '2026-01-12 13:30', '2026-01-12 14:30', '2026-01-13 06:30', '2026-01-13 07:30', '2026-01-13 08:30', '2026-01-13 09:30', '2026-01-13 10:30', '2026-01-13 11:30', '2026-01-13 12:30', '2026-01-13 13:30', '2026-01-13 14:30', '2026-01-14 06:30', '2026-01-14 07:30', '2026-01-14 08:30', '2026-01-14 09:30', '2026-01-14 10:30', '2026-01-14 11:30', '2026-01-14 12:30', '2026-01-14 13:30', '2026-01-14 14:30', '2026-01-15 06:30', '2026-01-15 07:30', '2026-01-15 08:30', '2026-01-15 09:30', '2026-01-15 10:30', '2026-01-15 11:30', '2026-01-15 12:30', '2026-01-15 13:30', '2026-01-15 14:30', '2026-01-16 06:30', '2026-01-16 07:30', '2026-01-16 08:30', '2026-01-16 09:30', '2026-01-16 10:30', '2026-01-16 11:30', '2026-01-16 12:30', '2026-01-16 13:30', '2026-01-16 14:30', '2026-01-19 06:30', '2026-01-19 07:30', '2026-01-19 08:30', '2026-01-19 09:30', '2026-01-19 10:30', '2026-01-19 11:30', '2026-01-19 12:30', '2026-01-19 13:30', '2026-01-19 14:30', '2026-01-20 06:30', '2026-01-20 07:30', '2026-01-20 08:30', '2026-01-20 09:30', '2026-01-20 10:30', '2026-01-20 11:30', '2026-01-20 12:30', '2026-01-20 13:30', '2026-01-20 14:30', '2026-01-21 06:30', '2026-01-21 07:30', '2026-01-21 08:30', '2026-01-21 09:30', '2026-01-21 10:30', '2026-01-21 11:30', '2026-01-21 12:30', '2026-01-21 13:30', '2026-01-21 14:30', '2026-01-22 06:30', '2026-01-22 07:30', '2026-01-22 08:30', '2026-01-22 09:30', '2026-01-22 10:30', '2026-01-22 11:30', '2026-01-22 12:30', '2026-01-22 13:30', '2026-01-22 14:30', '2026-01-23 06:30', '2026-01-23 07:30', '2026-01-23 08:30', '2026-01-23 09:30', '2026-01-23 10:30', '2026-01-23 11:30', '2026-01-23 12:30', '2026-01-23 13:30', '2026-01-23 14:30', '2026-01-26 06:30', '2026-01-26 07:30', '2026-01-26 08:30', '2026-01-26 09:30', '2026-01-26 10:30', '2026-01-26 11:30', '2026-01-26 12:30', '2026-01-26 13:30', '2026-01-26 14:30', '2026-01-27 06:30', '2026-01-27 07:30', '2026-01-27 08:30', '2026-01-27 09:30', '2026-01-27 10:30', '2026-01-27 11:30', '2026-01-27 12:30', '2026-01-27 13:30', '2026-01-27 14:30', '2026-01-28 06:30', '2026-01-28 07:30', '2026-01-28 08:30', '2026-01-28 09:30', '2026-01-28 10:30', '2026-01-28 11:30', '2026-01-28 12:30', '2026-01-28 13:30', '2026-01-28 14:30', '2026-01-29 06:30', '2026-01-29 07:30', '2026-01-29 08:30', '2026-01-29 09:30', '2026-01-29 10:30', '2026-01-29 11:30', '2026-01-29 12:30', '2026-01-29 13:30', '2026-01-29 14:30', '2026-01-30 06:30', '2026-01-30 07:30', '2026-01-30 08:30', '2026-01-30 09:30', '2026-01-30 10:30', '2026-01-30 11:30', '2026-01-30 12:30', '2026-01-30 13:30', '2026-01-30 14:30', '2026-02-02 06:30', '2026-02-02 07:30', '2026-02-02 08:30', '2026-02-02 09:30', '2026-02-02 10:30', '2026-02-02 11:30', '2026-02-02 12:30', '2026-02-02 13:30', '2026-02-02 14:30', '2026-02-03 06:30', '2026-02-03 07:30', '2026-02-03 08:30', '2026-02-03 09:30', '2026-02-03 10:30', '2026-02-03 11:30', '2026-02-03 12:30', '2026-02-03 13:30', '2026-02-03 14:30', '2026-02-04 06:30', '2026-02-04 07:30', '2026-02-04 08:30', '2026-02-04 09:30', '2026-02-04 10:30', '2026-02-04 11:30', '2026-02-04 12:30', '2026-02-04 13:30', '2026-02-04 14:30', '2026-02-05 06:30', '2026-02-05 07:30', '2026-02-05 08:30', '2026-02-05 09:30', '2026-02-05 10:30', '2026-02-05 11:30', '2026-02-05 12:30', '2026-02-05 13:30', '2026-02-05 14:30', '2026-02-06 06:30', '2026-02-06 07:30', '2026-02-06 08:30', '2026-02-06 09:30', '2026-02-06 10:30', '2026-02-06 11:30', '2026-02-06 12:30', '2026-02-06 13:30', '2026-02-06 14:30', '2026-02-06 15:00']

        var prices = [182.70, 184.70, 183.60, 183.10, 182.90, 182.30, 183.70, 182.40, 183.30, 183.70, 185.50, 185.90, 186.20, 185.90, 185.70, 187.70, 188.00, 189.40, 189.00, 189.20, 190.80, 189.90, 190.30, 188.90, 189.50, 190.70, 191.40, 187.80, 189.80, 193.40, 193.60, 194.10, 194.80, 193.70, 193.70, 193.90, 194.70, 194.20, 195.30, 193.30, 194.60, 196.30, 194.00, 194.70, 195.70, 195.90, 196.30, 195.90, 195.40, 195.50, 194.90, 194.50, 195.20, 195.70, 195.50, 194.60, 195.40, 194.20, 194.30, 194.90, 195.10, 195.40, 195.90, 194.60, 192.30, 194.20, 192.90, 194.00, 193.60, 193.30, 193.90, 192.30, 192.70, 196.10, 193.40, 192.60, 192.60, 191.70, 190.60, 192.30, 192.20, 193.30, 195.10, 195.30, 195.70, 195.10, 193.90, 192.10, 193.20, 194.60, 195.30, 197.80, 196.10, 197.40, 197.10, 197.60, 199.00, 198.10, 197.20, 197.60, 197.80, 197.00, 196.90, 197.30, 197.00, 197.50, 198.80, 198.70, 198.80, 199.10, 197.50, 197.30, 196.30, 197.50, 197.50, 197.50, 197.20, 198.50, 200.80, 202.90, 201.90, 202.30, 201.90, 201.90, 201.50, 202.70, 202.00, 202.00, 202.70, 202.80, 202.90, 202.90, 206.90, 207.30, 206.70, 206.60, 206.80, 205.20, 206.10, 205.30, 206.10, 206.80, 207.00, 207.40, 208.60, 202.10, 202.00, 201.70, 204.20, 206.20, 207.80, 206.90, 204.40, 204.70, 207.70, 209.40, 208.10, 207.20, 207.40, 207.40, 207.60, 207.80, 209.20, 209.50, 209.90, 208.40, 208.80, 208.20, 209.80, 208.90, 209.50, 208.20, 207.80, 208.50, 206.90, 207.60, 206.10, 205.50, 206.50, 205.70, 204.60, 204.60, 202.40, 203.40, 203.70, 203.70, 203.20, 202.40, 203.30, 205.10, 205.20];

        var dailyChanges = [-0.22, 0.65, -0.60, -0.27, -0.11, -0.27, 0.77, -0.65, 0.44, 0.22, 0.54, 0.22, 0.16, -0.16, -0.11, 1.08, 0.21, 0.80, -0.26, 0.05, 0.79, -0.47, 0.21, -0.68, 0.32, 0.63, 0.42, -1.83, 0.58, 1.95, 0.10, 0.31, 0.31, -0.56, 0.00, 0.10, 0.41, -0.10, 0.57, -1.07, 0.67, 0.87, -1.17, 0.31, 0.51, 0.05, 0.20, -0.15, -0.20, 0.05, -0.31, -0.21, 0.31, 0.31, -0.10, -0.92, 0.41, -0.66, 0.05, 0.36, 0.15, 0.15, 0.20, -0.66, -1.38, 0.94, -0.62, 0.62, -0.15, -0.15, 0.31, -0.83, 0.21, 1.34, -1.38, -0.41, 0.05, -0.42, -0.57, 0.84, 0.00, 0.57, 0.05, 0.10, 0.20, -0.26, -0.62, -0.88, 0.57, 0.72, 0.36, 0.87, -0.86, 0.66, -0.15, 0.25, 0.71, -0.40, -0.45, 0.15, 0.66, -0.35, -0.10, 0.20, -0.20, 0.20, 0.61, -0.10, 0.05, -0.10, -0.80, -0.15, -0.46, 0.61, 0.00, 0.05, -0.15, 0.66, 1.21, 1.00, -0.49, 0.20, -0.25, 0.00, -0.20, 0.55, -0.35, -0.35, 0.35, 0.05, 0.05, -0.05, 1.92, 0.14, -0.29, 0.00, 0.19, -0.77, 0.44, -0.39, 0.34, 0.34, 0.15, 0.19, 0.58, 0.05, 0.00, -0.20, 1.24, 0.93, 0.78, -0.39, -1.26, 0.20, 0.83, 0.82, -0.62, -0.48, 0.10, -0.05, 0.10, 0.10, 0.67, -0.24, 0.14, -0.71, 0.19, -0.29, 0.82, -0.43, 0.29, -0.57, -0.05, 0.39, -0.72, 0.39, -0.72, -0.29, 0.49, -0.39, -0.53, 0.24, -1.08, 0.54, 0.15, -0.05, -0.25, -0.39, 0.49, 0.89, 0.00]

        var sma20 = [183.59, 183.59, 183.52, 183.42, 183.28, 183.12, 183.04, 182.93, 182.90, 182.91, 183.01, 183.15, 183.30, 183.43, 183.56, 183.87, 184.20, 184.60, 184.94, 185.24, 185.65, 185.91, 186.24, 186.53, 186.86, 187.28, 187.67, 187.94, 188.26, 188.75, 189.15, 189.56, 189.99, 190.38, 190.78, 191.09, 191.43, 191.67, 191.98, 192.19, 192.38, 192.70, 192.88, 193.18, 193.48, 193.74, 193.99, 194.39, 194.67, 194.78, 194.84, 194.86, 194.88, 194.98, 195.07, 195.11, 195.14, 195.14, 195.09, 195.17, 195.20, 195.15, 195.25, 195.24, 195.07, 194.99, 194.82, 194.72, 194.63, 194.52, 194.47, 194.36, 194.24, 194.26, 194.15, 194.05, 193.92, 193.79, 193.61, 193.48, 193.33, 193.23, 193.19, 193.22, 193.39, 193.44, 193.49, 193.39, 193.37, 193.44, 193.51, 193.78, 193.95, 194.02, 194.20, 194.45, 194.77, 195.09, 195.42, 195.69, 195.97, 196.15, 196.24, 196.34, 196.41, 196.53, 196.77, 197.10, 197.38, 197.61, 197.72, 197.69, 197.70, 197.71, 197.73, 197.72, 197.63, 197.65, 197.83, 198.10, 198.30, 198.57, 198.82, 199.04, 199.27, 199.53, 199.69, 199.85, 200.05, 200.23, 200.50, 200.78, 201.31, 201.80, 202.26, 202.72, 203.20, 203.53, 203.80, 203.92, 204.13, 204.35, 204.61, 204.88, 205.24, 205.21, 205.21, 205.20, 205.27, 205.44, 205.69, 205.89, 205.76, 205.63, 205.68, 205.82, 205.88, 205.98, 206.05, 206.15, 206.23, 206.28, 206.39, 206.49, 206.56, 206.87, 207.21, 207.54, 207.82, 207.95, 208.04, 208.10, 208.27, 208.46, 208.42, 208.33, 208.23, 208.15, 208.10, 208.02, 207.87, 207.71, 207.37, 207.06, 206.75, 206.52, 206.24, 205.95, 205.62, 205.43, 205.22];

        var sma50 = [179.13, 179.43, 179.71, 179.98, 180.26, 180.53, 180.79, 180.99, 181.21, 181.43, 181.67, 181.93, 182.19, 182.44, 182.66, 182.90, 183.11, 183.34, 183.56, 183.76, 184.00, 184.21, 184.42, 184.60, 184.78, 184.95, 185.15, 185.26, 185.39, 185.59, 185.80, 185.99, 186.19, 186.36, 186.52, 186.69, 186.88, 187.07, 187.29, 187.49, 187.71, 187.98, 188.19, 188.42, 188.67, 188.96, 189.26, 189.55, 189.81, 190.06, 190.30, 190.50, 190.73, 190.98, 191.24, 191.48, 191.72, 191.95, 192.17, 192.40, 192.59, 192.78, 192.97, 193.15, 193.28, 193.41, 193.51, 193.60, 193.69, 193.77, 193.83, 193.88, 193.93, 194.07, 194.15, 194.19, 194.21, 194.29, 194.31, 194.29, 194.26, 194.24, 194.25, 194.28, 194.32, 194.34, 194.33, 194.29, 194.24, 194.27, 194.28, 194.31, 194.36, 194.41, 194.44, 194.47, 194.53, 194.57, 194.61, 194.65, 194.71, 194.76, 194.79, 194.82, 194.85, 194.91, 194.98, 195.07, 195.16, 195.24, 195.29, 195.33, 195.34, 195.39, 195.50, 195.56, 195.65, 195.74, 195.88, 196.08, 196.24, 196.44, 196.62, 196.74, 196.90, 197.10, 197.29, 197.49, 197.74, 197.95, 198.16, 198.35, 198.59, 198.83, 199.05, 199.28, 199.54, 199.80, 200.06, 200.27, 200.49, 200.67, 200.88, 201.08, 201.31, 201.40, 201.46, 201.54, 201.68, 201.85, 202.05, 202.25, 202.40, 202.54, 202.76, 203.00, 203.18, 203.35, 203.52, 203.69, 203.89, 204.10, 204.36, 204.60, 204.85, 205.07, 205.30, 205.49, 205.67, 205.79, 205.94, 206.06, 206.18, 206.31, 206.42, 206.52, 206.60, 206.67, 206.75, 206.80, 206.84, 206.87, 206.78, 206.70, 206.64, 206.59, 206.51, 206.46, 206.40, 206.40, 206.38];

        var ema12 = [182.68, 182.99, 183.08, 183.09, 183.06, 182.94, 183.06, 182.96, 183.01, 183.12, 183.48, 183.85, 184.22, 184.47, 184.66, 185.13, 185.57, 186.16, 186.60, 187.00, 187.58, 187.94, 188.30, 188.39, 188.56, 188.89, 189.28, 189.05, 189.17, 189.82, 190.40, 190.97, 191.56, 191.89, 192.17, 192.43, 192.78, 193.00, 193.35, 193.35, 193.54, 193.96, 193.97, 194.08, 194.33, 194.57, 194.84, 195.00, 195.06, 195.13, 195.09, 195.00, 195.03, 195.14, 195.19, 195.10, 195.15, 195.00, 194.89, 194.89, 194.93, 195.00, 195.14, 195.05, 194.63, 194.56, 194.31, 194.26, 194.16, 194.03, 194.01, 193.74, 193.58, 193.97, 193.88, 193.69, 193.52, 193.24, 192.83, 192.75, 192.67, 192.76, 193.12, 193.46, 193.80, 194.00, 193.99, 193.70, 193.62, 193.77, 194.01, 194.59, 194.82, 195.22, 195.51, 195.83, 196.32, 196.59, 196.69, 196.83, 196.98, 196.98, 196.97, 197.02, 197.02, 197.09, 197.35, 197.56, 197.75, 197.96, 197.89, 197.80, 197.57, 197.56, 197.55, 197.54, 197.49, 197.64, 198.13, 198.86, 199.33, 199.79, 200.11, 200.39, 200.56, 200.89, 201.06, 201.20, 201.43, 201.64, 201.84, 202.00, 202.75, 203.45, 203.95, 204.36, 204.74, 204.81, 205.01, 205.05, 205.21, 205.46, 205.69, 205.96, 206.36, 205.71, 205.14, 204.61, 204.55, 204.80, 205.26, 205.51, 205.34, 205.24, 205.62, 206.20, 206.49, 206.60, 206.73, 206.83, 206.95, 207.08, 207.41, 207.73, 208.06, 208.11, 208.22, 208.22, 208.46, 208.53, 208.68, 208.60, 208.48, 208.48, 208.24, 208.14, 207.83, 207.47, 207.32, 207.07, 206.69, 206.37, 205.76, 205.40, 205.13, 204.91, 204.65, 204.30, 204.15, 204.30, 204.43];

        var rsi = [55.72, 65.90, 58.00, 54.79, 53.51, 49.76, 57.28, 49.82, 54.26, 56.12, 63.34, 64.73, 65.78, 63.74, 62.35, 69.50, 70.41, 74.26, 71.40, 71.98, 76.15, 69.85, 71.00, 62.09, 64.16, 67.94, 69.94, 52.03, 58.40, 66.92, 67.32, 68.35, 69.79, 64.81, 64.81, 65.33, 67.41, 64.79, 67.76, 58.16, 61.94, 66.23, 56.88, 58.79, 61.41, 61.93, 63.01, 61.15, 58.81, 59.14, 56.17, 54.22, 57.04, 58.98, 57.85, 52.95, 56.48, 50.38, 50.85, 53.73, 54.68, 56.13, 58.52, 50.77, 40.54, 49.58, 44.59, 49.25, 47.68, 46.48, 49.22, 42.91, 44.81, 57.74, 48.10, 45.67, 45.67, 42.85, 39.62, 46.34, 46.02, 50.16, 56.09, 56.70, 57.97, 55.35, 50.43, 44.10, 48.37, 53.26, 55.52, 62.51, 56.06, 59.50, 58.37, 59.75, 63.41, 59.65, 56.08, 57.30, 57.93, 54.46, 54.03, 55.56, 54.10, 56.17, 61.06, 60.50, 60.89, 62.09, 52.80, 51.76, 46.79, 52.66, 52.66, 52.66, 50.91, 57.52, 66.19, 71.84, 66.17, 67.28, 64.98, 64.98, 62.50, 66.62, 62.32, 62.32, 64.94, 65.31, 65.70, 65.70, 77.49, 78.29, 74.02, 73.31, 73.85, 62.80, 65.89, 61.03, 63.90, 66.24, 66.90, 68.24, 71.90, 42.96, 42.68, 41.78, 51.00, 56.88, 60.92, 57.65, 49.67, 50.55, 58.42, 62.10, 57.88, 55.09, 55.60, 55.60, 56.18, 56.79, 60.88, 61.72, 62.86, 56.11, 57.42, 54.78, 60.06, 56.09, 58.08, 52.53, 50.91, 53.60, 47.24, 50.03, 44.58, 42.58, 46.86, 44.03, 40.43, 40.43, 33.97, 38.76, 40.16, 40.16, 38.46, 35.84, 40.73, 49.08, 49.51];

        // BUY/SELL signals
        var buyDates = [], buyPrices = [], buyTexts = [];
        var sellDates = [], sellPrices = [], sellTexts = [];
        buyDates.push('2026-01-09 14:30');
        buyPrices.push(183.70);
        buyTexts.push('GÃ¼Ã§lÃ¼ AL (%82)');
        buyDates.push('2026-01-12 14:30');
        buyPrices.push(189.00);
        buyTexts.push('GÃ¼Ã§lÃ¼ AL (%82)');
        buyDates.push('2026-01-13 14:30');
        buyPrices.push(187.80);
        buyTexts.push('AL (%67)');
        buyDates.push('2026-01-14 14:30');
        buyPrices.push(194.70);
        buyTexts.push('GÃ¼Ã§lÃ¼ AL (%82)');
        buyDates.push('2026-01-15 14:30');
        buyPrices.push(195.90);
        buyTexts.push('GÃ¼Ã§lÃ¼ AL (%82)');
        buyDates.push('2026-01-16 14:30');
        buyPrices.push(195.50);
        buyTexts.push('AL (%67)');
        sellDates.push('2026-01-20 14:30');
        sellPrices.push(192.70);
        sellTexts.push('SAT (%67)');
        sellDates.push('2026-01-21 14:30');
        sellPrices.push(193.30);
        sellTexts.push('SAT (%67)');
        buyDates.push('2026-01-23 14:30');
        buyPrices.push(197.60);
        buyTexts.push('AL (%67)');
        buyDates.push('2026-01-26 14:30');
        buyPrices.push(198.80);
        buyTexts.push('GÃ¼Ã§lÃ¼ AL (%82)');
        buyDates.push('2026-01-29 14:30');
        buyPrices.push(206.60);
        buyTexts.push('GÃ¼Ã§lÃ¼ AL (%82)');
        buyDates.push('2026-01-30 14:30');
        buyPrices.push(208.60);
        buyTexts.push('GÃ¼Ã§lÃ¼ AL (%82)');
        buyDates.push('2026-02-03 14:30');
        buyPrices.push(209.20);
        buyTexts.push('GÃ¼Ã§lÃ¼ AL (%82)');
        buyDates.push('2026-02-04 14:30');
        buyPrices.push(208.20);
        buyTexts.push('AL (%67)');
        sellDates.push('2026-02-05 14:30');
        sellPrices.push(204.60);
        sellTexts.push('SAT (%67)');

        // Price chart traces
        var tracePrice = {
            x: dates,
            y: prices,
            customdata: dailyChanges,
            type: 'scatter',
            mode: 'lines',
            name: 'KapanÄ±ÅŸ FiyatÄ±',
            line: { color: '#1a1a1a', width: 2 },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>Fiyat: %{y:.2f} TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: %{customdata:.2f}%<extra></extra>',
            yaxis: 'y'
        };

        var traceSMA20 = {
            x: dates,
            y: sma20,
            type: 'scatter',
            mode: 'lines',
            name: 'SMA20',
            line: { color: '#4285F4', width: 1.5, dash: 'dot' },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>SMA20: %{y:.2f} TL<extra></extra>',
            yaxis: 'y'
        };

        var traceSMA50 = {
            x: dates,
            y: sma50,
            type: 'scatter',
            mode: 'lines',
            name: 'SMA50',
            line: { color: '#FBBC05', width: 1.5, dash: 'dot' },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>SMA50: %{y:.2f} TL<extra></extra>',
            yaxis: 'y'
        };

        var traceEMA12 = {
            x: dates,
            y: ema12,
            type: 'scatter',
            mode: 'lines',
            name: 'EMA12',
            line: { color: '#34D399', width: 1.5, dash: 'dash' },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>EMA12: %{y:.2f} TL<extra></extra>',
            yaxis: 'y'
        };

        var traceBuySignals = {
            x: buyDates,
            y: buyPrices,
            text: buyTexts,
            type: 'scatter',
            mode: 'markers',
            name: 'AL Sinyali',
            marker: { color: '#22C55E', size: 12, symbol: 'triangle-up', line: { color: '#fff', width: 2 } },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>Fiyat: %{y:.2f} TL<br>%{text}<extra></extra>',
            yaxis: 'y'
        };

        var traceSellSignals = {
            x: sellDates,
            y: sellPrices,
            text: sellTexts,
            type: 'scatter',
            mode: 'markers',
            name: 'SAT Sinyali',
            marker: { color: '#EF4444', size: 12, symbol: 'triangle-down', line: { color: '#fff', width: 2 } },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>Fiyat: %{y:.2f} TL<br>%{text}<extra></extra>',
            yaxis: 'y'
        };

        // RSI chart trace
        var traceRSI = {
            x: dates,
            y: rsi,
            type: 'scatter',
            mode: 'lines',
            name: 'RSI(14)',
            line: { color: '#A855F7', width: 2 },
            hovertemplate: '<b>%{x}</b><br>RSI: %{y:.1f}<extra></extra>',
            yaxis: 'y2',
            xaxis: 'x'
        };

        var traceRSI70 = {
            x: dates,
            y: Array(dates.length).fill(70),
            type: 'scatter',
            mode: 'lines',
            name: 'RSI 70 (AÅŸÄ±rÄ± AlÄ±m)',
            line: { color: '#EF4444', width: 1, dash: 'dash' },
            showlegend: false,
            hoverinfo: 'skip',
            yaxis: 'y2',
            xaxis: 'x'
        };

        var traceRSI30 = {
            x: dates,
            y: Array(dates.length).fill(30),
            type: 'scatter',
            mode: 'lines',
            name: 'RSI 30 (AÅŸÄ±rÄ± SatÄ±ÅŸ)',
            line: { color: '#22C55E', width: 1, dash: 'dash' },
            showlegend: false,
            hoverinfo: 'skip',
            yaxis: 'y2',
            xaxis: 'x'
        };

        // Layout configuration
        var layout = {
            title: {
                text: 'KCHOL - Son 586 GÃ¼nlÃ¼k Teknik Analiz',
                font: { size: 18, color: '#1a1a1a' }
            },
            xaxis: {
                title: 'Tarih',
                type: 'date',
                tickformat: '%Y-%m',
                nticks: 12,
                showgrid: true,
                gridcolor: '#e5e5e5'
            },
            yaxis: {
                title: 'Fiyat (â‚º)',
                domain: [0.3, 1],
                showgrid: true,
                gridcolor: '#e5e5e5'
            },
            yaxis2: {
                title: 'RSI',
                domain: [0, 0.25],
                range: [0, 100],
                showgrid: true,
                gridcolor: '#e5e5e5'
            },
            hovermode: 'closest',
            plot_bgcolor: '#fafafa',
            paper_bgcolor: '#ffffff',
            font: { family: 'Segoe UI, Arial', size: 12 },
            legend: {
                x: 0,
                y: 1.1,
                orientation: 'h',
                bgcolor: 'rgba(255,255,255,0.9)',
                bordercolor: '#e5e5e5',
                borderwidth: 1
            },
            margin: { t: 100, b: 80, l: 80, r: 50 }
        };

        var config = {
            responsive: true,
            displayModeBar: true,
            displaylogo: false,
            modeBarButtonsToRemove: ['toImage', 'sendDataToCloud'],
            locale: 'tr'
        };

        // Render chart
        var data = [tracePrice, traceSMA20, traceSMA50, traceEMA12, traceBuySignals, traceSellSignals, traceRSI, traceRSI70, traceRSI30];
        Plotly.newPlot('chart', data, layout, config);
    </script>
</body>
</html>
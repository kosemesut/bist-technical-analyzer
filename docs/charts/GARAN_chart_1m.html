<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GARAN - Teknik Analiz</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <style>
        body { margin: 0; padding: 20px; background: #f5f5f5; font-family: 'Segoe UI', Arial, sans-serif; }
        .chart-container { background: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        h2 { margin: 0 0 20px 0; color: #1a1a1a; font-size: 24px; }
    </style>
</head>
<body>
    <div class="chart-container">
        <h2>ðŸ“Š GARAN - Teknik Analiz GrafiÄŸi</h2>
        <div id="chart" style="width:100%; height:800px;"></div>
    </div>
    <script>
        // Data preparation
        var dates = ['2026-01-09 06:30', '2026-01-09 07:30', '2026-01-09 08:30', '2026-01-09 09:30', '2026-01-09 10:30', '2026-01-09 11:30', '2026-01-09 12:30', '2026-01-09 13:30', '2026-01-09 14:30', '2026-01-12 06:30', '2026-01-12 07:30', '2026-01-12 08:30', '2026-01-12 09:30', '2026-01-12 10:30', '2026-01-12 11:30', '2026-01-12 12:30', '2026-01-12 13:30', '2026-01-12 14:30', '2026-01-13 06:30', '2026-01-13 07:30', '2026-01-13 08:30', '2026-01-13 09:30', '2026-01-13 10:30', '2026-01-13 11:30', '2026-01-13 12:30', '2026-01-13 13:30', '2026-01-13 14:30', '2026-01-14 06:30', '2026-01-14 07:30', '2026-01-14 08:30', '2026-01-14 09:30', '2026-01-14 10:30', '2026-01-14 11:30', '2026-01-14 12:30', '2026-01-14 13:30', '2026-01-14 14:30', '2026-01-15 06:30', '2026-01-15 07:30', '2026-01-15 08:30', '2026-01-15 09:30', '2026-01-15 10:30', '2026-01-15 11:30', '2026-01-15 12:30', '2026-01-15 13:30', '2026-01-15 14:30', '2026-01-16 06:30', '2026-01-16 07:30', '2026-01-16 08:30', '2026-01-16 09:30', '2026-01-16 10:30', '2026-01-16 11:30', '2026-01-16 12:30', '2026-01-16 13:30', '2026-01-16 14:30', '2026-01-19 06:30', '2026-01-19 07:30', '2026-01-19 08:30', '2026-01-19 09:30', '2026-01-19 10:30', '2026-01-19 11:30', '2026-01-19 12:30', '2026-01-19 13:30', '2026-01-19 14:30', '2026-01-20 06:30', '2026-01-20 07:30', '2026-01-20 08:30', '2026-01-20 09:30', '2026-01-20 10:30', '2026-01-20 11:30', '2026-01-20 12:30', '2026-01-20 13:30', '2026-01-20 14:30', '2026-01-21 06:30', '2026-01-21 07:30', '2026-01-21 08:30', '2026-01-21 09:30', '2026-01-21 10:30', '2026-01-21 11:30', '2026-01-21 12:30', '2026-01-21 13:30', '2026-01-21 14:30', '2026-01-22 06:30', '2026-01-22 07:30', '2026-01-22 08:30', '2026-01-22 09:30', '2026-01-22 10:30', '2026-01-22 11:30', '2026-01-22 12:30', '2026-01-22 13:30', '2026-01-22 14:30', '2026-01-23 06:30', '2026-01-23 07:30', '2026-01-23 08:30', '2026-01-23 09:30', '2026-01-23 10:30', '2026-01-23 11:30', '2026-01-23 12:30', '2026-01-23 13:30', '2026-01-23 14:30', '2026-01-26 06:30', '2026-01-26 07:30', '2026-01-26 08:30', '2026-01-26 09:30', '2026-01-26 10:30', '2026-01-26 11:30', '2026-01-26 12:30', '2026-01-26 13:30', '2026-01-26 14:30', '2026-01-27 06:30', '2026-01-27 07:30', '2026-01-27 08:30', '2026-01-27 09:30', '2026-01-27 10:30', '2026-01-27 11:30', '2026-01-27 12:30', '2026-01-27 13:30', '2026-01-27 14:30', '2026-01-28 06:30', '2026-01-28 07:30', '2026-01-28 08:30', '2026-01-28 09:30', '2026-01-28 10:30', '2026-01-28 11:30', '2026-01-28 12:30', '2026-01-28 13:30', '2026-01-28 14:30', '2026-01-29 06:30', '2026-01-29 07:30', '2026-01-29 08:30', '2026-01-29 09:30', '2026-01-29 10:30', '2026-01-29 11:30', '2026-01-29 12:30', '2026-01-29 13:30', '2026-01-29 14:30', '2026-01-30 06:30', '2026-01-30 07:30', '2026-01-30 08:30', '2026-01-30 09:30', '2026-01-30 10:30', '2026-01-30 11:30', '2026-01-30 12:30', '2026-01-30 13:30', '2026-01-30 14:30', '2026-02-02 06:30', '2026-02-02 07:30', '2026-02-02 08:30', '2026-02-02 09:30', '2026-02-02 10:30', '2026-02-02 11:30', '2026-02-02 12:30', '2026-02-02 13:30', '2026-02-02 14:30', '2026-02-03 06:30', '2026-02-03 07:30', '2026-02-03 08:30', '2026-02-03 09:30', '2026-02-03 10:30', '2026-02-03 11:30', '2026-02-03 12:30', '2026-02-03 13:30', '2026-02-03 14:30', '2026-02-04 06:30', '2026-02-04 07:30', '2026-02-04 08:30', '2026-02-04 09:30', '2026-02-04 10:30', '2026-02-04 11:30', '2026-02-04 12:30', '2026-02-04 13:30', '2026-02-04 14:30', '2026-02-05 06:30', '2026-02-05 07:30', '2026-02-05 08:30', '2026-02-05 09:30', '2026-02-05 10:30', '2026-02-05 11:30', '2026-02-05 12:30', '2026-02-05 13:30', '2026-02-05 14:30', '2026-02-06 06:30', '2026-02-06 07:30', '2026-02-06 08:30', '2026-02-06 09:30', '2026-02-06 10:30', '2026-02-06 11:30', '2026-02-06 12:30', '2026-02-06 13:30', '2026-02-06 14:30', '2026-02-06 15:00']

        var prices = [147.30, 146.40, 146.20, 146.00, 145.20, 145.40, 145.60, 145.10, 145.70, 147.30, 147.10, 147.00, 146.80, 147.50, 147.80, 146.10, 146.50, 145.70, 145.90, 147.10, 146.00, 146.90, 146.10, 146.80, 148.00, 148.20, 147.40, 147.30, 146.40, 147.00, 146.30, 146.50, 146.10, 146.40, 145.80, 146.10, 145.40, 144.80, 142.30, 143.50, 143.90, 143.20, 143.00, 144.50, 144.30, 145.90, 145.50, 144.80, 143.20, 143.20, 142.40, 143.20, 143.80, 144.60, 147.20, 147.10, 147.70, 147.60, 147.90, 147.80, 148.10, 148.80, 148.20, 147.70, 148.60, 147.10, 147.50, 147.60, 148.00, 147.60, 146.60, 146.60, 147.60, 148.70, 148.30, 148.30, 148.40, 148.30, 149.50, 149.80, 150.90, 151.10, 151.10, 150.90, 150.40, 145.40, 144.60, 146.10, 147.70, 148.20, 151.30, 151.10, 151.80, 151.90, 151.00, 151.00, 151.10, 150.80, 151.10, 149.10, 147.90, 147.80, 148.10, 148.40, 149.30, 150.70, 151.20, 151.00, 149.40, 149.30, 148.80, 147.50, 147.90, 147.70, 147.80, 147.00, 147.10, 148.10, 148.80, 148.90, 149.00, 149.90, 150.10, 149.90, 150.80, 151.20, 153.50, 156.60, 156.30, 156.70, 156.90, 160.20, 159.10, 157.80, 157.40, 157.80, 158.70, 159.50, 158.00, 158.40, 159.10, 159.70, 160.20, 161.00, 155.20, 154.60, 153.40, 155.50, 158.00, 161.50, 161.30, 159.20, 160.00, 160.10, 165.50, 164.90, 164.30, 165.00, 164.10, 164.90, 164.30, 165.70, 165.20, 164.40, 163.10, 163.30, 162.20, 166.60, 164.60, 164.70, 162.10, 159.20, 159.30, 157.70, 158.20, 157.20, 156.50, 156.60, 155.10, 154.00, 154.50, 152.80, 153.10, 152.50, 152.20, 152.80, 152.20, 153.20, 154.30, 154.80];

        var dailyChanges = [0.55, -0.61, -0.07, -0.07, -0.55, 0.14, 0.07, -0.27, 0.41, 0.89, -0.14, -0.07, -0.20, 0.48, 0.20, -1.15, 0.34, -0.55, -0.07, 0.82, -0.75, 0.62, -0.54, 0.48, 0.82, 0.14, -0.61, -0.61, -0.54, 0.41, -0.54, 0.21, -0.27, 0.21, -0.41, 0.14, -0.55, -0.41, -1.73, 0.77, 0.21, -0.49, -0.14, 1.05, -0.14, 0.69, -0.27, -0.55, -1.10, 0.07, -0.56, 0.56, 0.35, 0.49, 1.10, -0.07, 0.34, -0.07, 0.20, -0.07, 0.20, 0.54, -0.47, -0.67, 0.61, -0.94, 0.27, 0.07, 0.34, -0.27, -0.61, 0.07, 0.20, 0.68, -0.34, 0.07, 0.00, -0.13, 0.88, 0.20, 0.73, -0.59, 0.00, -0.13, -0.33, -3.32, -0.55, 1.04, 1.10, 0.34, 1.41, -0.13, 0.46, 0.07, -0.53, 0.00, 0.07, -0.20, 0.20, -0.20, -0.87, 0.00, 0.27, 0.27, 0.67, 0.94, 0.33, -0.20, -0.99, -0.13, -0.40, -0.87, 0.34, -0.14, 0.07, -0.47, 0.07, 0.41, 0.47, 0.07, 0.07, 0.54, 0.20, -0.13, 0.60, 0.20, 1.32, 2.02, -0.19, 0.26, 0.13, 2.04, -0.75, -0.75, -0.25, 0.13, 0.57, 0.50, -0.94, 0.25, 0.44, 0.38, 0.38, 0.50, 0.13, -0.39, -0.71, 1.37, 1.54, 2.28, -0.06, -1.30, 0.50, -0.50, 3.37, -0.42, -0.36, 0.43, -0.49, 0.49, -0.42, 0.85, -0.48, -0.48, -0.85, 0.12, -0.67, 2.71, -1.26, 0.06, -1.58, -0.31, 0.06, -1.00, 0.32, -0.57, -0.38, 0.06, -0.96, -0.65, 0.13, -1.10, 0.20, -0.33, -0.13, 0.39, -0.39, 0.66, 0.65, 0.00]

        var sma20 = [147.07, 146.88, 146.75, 146.62, 146.45, 146.29, 146.15, 146.02, 145.96, 146.00, 146.04, 146.08, 146.10, 146.14, 146.22, 146.24, 146.31, 146.31, 146.32, 146.39, 146.32, 146.35, 146.34, 146.38, 146.52, 146.66, 146.75, 146.86, 146.90, 146.88, 146.84, 146.82, 146.78, 146.73, 146.63, 146.63, 146.57, 146.53, 146.35, 146.17, 146.06, 145.88, 145.72, 145.60, 145.42, 145.30, 145.21, 145.08, 144.93, 144.73, 144.54, 144.37, 144.26, 144.17, 144.24, 144.29, 144.40, 144.54, 144.82, 145.04, 145.25, 145.53, 145.79, 145.95, 146.17, 146.23, 146.33, 146.47, 146.71, 146.93, 147.14, 147.31, 147.50, 147.70, 147.76, 147.82, 147.85, 147.89, 147.97, 148.07, 148.21, 148.32, 148.47, 148.63, 148.72, 148.63, 148.49, 148.41, 148.40, 148.43, 148.66, 148.89, 149.10, 149.26, 149.39, 149.53, 149.66, 149.79, 149.87, 149.83, 149.68, 149.52, 149.37, 149.24, 149.19, 149.45, 149.78, 150.03, 150.11, 150.17, 150.04, 149.86, 149.67, 149.46, 149.30, 149.10, 148.90, 148.76, 148.65, 148.63, 148.69, 148.79, 148.89, 148.97, 149.04, 149.07, 149.18, 149.47, 149.81, 150.18, 150.58, 151.22, 151.78, 152.29, 152.77, 153.31, 153.88, 154.45, 154.91, 155.39, 155.89, 156.38, 156.89, 157.44, 157.66, 157.83, 157.83, 157.77, 157.86, 158.10, 158.32, 158.27, 158.31, 158.43, 158.83, 159.19, 159.47, 159.74, 160.05, 160.38, 160.63, 160.93, 161.18, 161.35, 161.75, 162.18, 162.63, 163.18, 163.51, 163.67, 163.71, 163.71, 163.68, 163.56, 163.19, 162.81, 162.42, 162.00, 161.55, 161.00, 160.51, 159.87, 159.26, 158.67, 158.12, 157.60, 157.10, 156.43, 155.91, 155.42];

        var sma50 = [147.44, 147.48, 147.52, 147.57, 147.61, 147.62, 147.62, 147.60, 147.58, 147.57, 147.56, 147.56, 147.53, 147.49, 147.48, 147.42, 147.38, 147.32, 147.27, 147.23, 147.17, 147.14, 147.09, 147.06, 147.03, 147.01, 146.98, 146.94, 146.88, 146.83, 146.76, 146.69, 146.64, 146.59, 146.54, 146.49, 146.43, 146.37, 146.28, 146.22, 146.17, 146.11, 146.04, 145.99, 145.96, 145.96, 145.97, 145.95, 145.90, 145.85, 145.75, 145.69, 145.64, 145.61, 145.65, 145.69, 145.73, 145.78, 145.82, 145.83, 145.85, 145.89, 145.92, 145.92, 145.94, 145.96, 145.98, 146.01, 146.06, 146.07, 146.08, 146.07, 146.10, 146.14, 146.15, 146.15, 146.17, 146.19, 146.25, 146.31, 146.40, 146.49, 146.59, 146.68, 146.77, 146.76, 146.74, 146.77, 146.88, 146.97, 147.12, 147.28, 147.45, 147.60, 147.73, 147.84, 147.95, 148.07, 148.23, 148.34, 148.45, 148.55, 148.63, 148.71, 148.75, 148.82, 148.89, 148.96, 148.99, 149.02, 149.03, 149.01, 149.00, 149.00, 148.99, 148.98, 148.98, 148.99, 149.00, 149.03, 149.08, 149.14, 149.19, 149.22, 149.27, 149.32, 149.43, 149.59, 149.73, 149.87, 149.99, 150.17, 150.33, 150.47, 150.61, 150.85, 151.14, 151.40, 151.61, 151.81, 151.97, 152.14, 152.31, 152.49, 152.58, 152.65, 152.69, 152.79, 152.93, 153.17, 153.44, 153.67, 153.91, 154.14, 154.47, 154.75, 155.01, 155.29, 155.59, 155.90, 156.21, 156.57, 156.92, 157.25, 157.56, 157.88, 158.19, 158.56, 158.87, 159.19, 159.45, 159.64, 159.82, 159.98, 160.12, 160.24, 160.30, 160.30, 160.28, 160.23, 160.18, 160.03, 159.91, 159.80, 159.70, 159.60, 159.47, 159.34, 159.27, 159.20];

        var ema12 = [146.43, 146.43, 146.39, 146.33, 146.16, 146.04, 145.97, 145.84, 145.82, 146.05, 146.21, 146.33, 146.40, 146.57, 146.76, 146.66, 146.63, 146.49, 146.40, 146.51, 146.43, 146.50, 146.44, 146.50, 146.73, 146.95, 147.02, 147.06, 146.96, 146.97, 146.87, 146.81, 146.70, 146.65, 146.52, 146.46, 146.29, 146.06, 145.49, 145.18, 144.98, 144.71, 144.45, 144.45, 144.43, 144.66, 144.79, 144.79, 144.54, 144.34, 144.04, 143.91, 143.89, 144.00, 144.49, 144.89, 145.33, 145.68, 146.02, 146.29, 146.57, 146.91, 147.11, 147.20, 147.42, 147.37, 147.39, 147.42, 147.51, 147.52, 147.38, 147.26, 147.31, 147.53, 147.65, 147.75, 147.85, 147.92, 148.16, 148.41, 148.80, 149.15, 149.45, 149.67, 149.78, 149.11, 148.42, 148.06, 148.00, 148.03, 148.54, 148.93, 149.37, 149.76, 149.95, 150.11, 150.27, 150.35, 150.46, 150.25, 149.89, 149.57, 149.34, 149.20, 149.21, 149.44, 149.71, 149.91, 149.83, 149.75, 149.60, 149.28, 149.07, 148.86, 148.69, 148.43, 148.23, 148.21, 148.30, 148.39, 148.49, 148.70, 148.92, 149.07, 149.34, 149.62, 150.22, 151.20, 151.99, 152.71, 153.36, 154.41, 155.13, 155.54, 155.83, 156.13, 156.53, 156.98, 157.14, 157.33, 157.61, 157.93, 158.28, 158.70, 158.16, 157.61, 156.96, 156.74, 156.93, 157.63, 158.20, 158.35, 158.61, 158.84, 159.86, 160.64, 161.20, 161.78, 162.14, 162.57, 162.83, 163.27, 163.57, 163.70, 163.61, 163.56, 163.35, 163.85, 163.97, 164.08, 163.77, 163.07, 162.49, 161.75, 161.21, 160.59, 159.96, 159.44, 158.78, 158.04, 157.50, 156.77, 156.21, 155.64, 155.11, 154.75, 154.36, 154.18, 154.20, 154.29];

        var rsi = [53.36, 46.08, 44.62, 43.15, 37.79, 39.81, 41.83, 38.36, 44.34, 56.46, 54.85, 54.03, 52.32, 57.39, 59.38, 46.20, 49.07, 44.02, 45.53, 53.61, 46.76, 52.14, 47.54, 51.57, 57.58, 58.51, 53.49, 52.87, 47.60, 51.10, 47.15, 48.38, 46.07, 48.07, 44.51, 46.64, 42.54, 39.35, 29.44, 37.57, 40.05, 37.26, 36.48, 45.68, 44.75, 53.00, 50.95, 47.49, 40.69, 40.69, 37.57, 42.33, 45.68, 49.86, 60.49, 59.97, 62.10, 61.51, 62.65, 61.99, 63.24, 66.06, 61.70, 58.25, 62.33, 53.03, 54.96, 55.45, 57.46, 54.80, 48.74, 48.74, 54.57, 59.96, 57.30, 57.30, 57.84, 57.06, 63.45, 64.85, 69.49, 70.26, 70.26, 68.26, 63.42, 35.94, 33.45, 41.63, 48.86, 50.91, 61.25, 60.37, 62.41, 62.71, 58.26, 58.26, 58.64, 56.97, 58.25, 48.01, 43.12, 42.73, 44.36, 46.01, 50.74, 57.05, 59.07, 57.90, 49.45, 48.97, 46.54, 40.85, 43.15, 42.26, 42.90, 39.20, 39.90, 46.50, 50.59, 51.17, 51.77, 56.93, 58.01, 56.49, 61.39, 63.36, 72.18, 79.38, 77.29, 78.12, 78.54, 84.00, 76.97, 69.56, 67.41, 68.46, 70.75, 72.64, 64.24, 65.39, 67.36, 69.00, 70.33, 72.38, 47.03, 45.27, 41.88, 49.06, 56.03, 63.55, 62.89, 56.26, 58.07, 58.31, 68.47, 66.53, 64.56, 65.83, 62.72, 64.33, 62.16, 65.12, 63.22, 60.18, 55.52, 56.08, 52.17, 63.23, 56.80, 57.03, 49.49, 42.70, 42.99, 39.54, 41.13, 38.93, 37.41, 37.79, 34.48, 32.25, 34.33, 30.86, 32.16, 30.91, 30.27, 33.23, 31.78, 36.74, 41.75, 43.93];

        // BUY/SELL signals
        var buyDates = [], buyPrices = [], buyTexts = [];
        var sellDates = [], sellPrices = [], sellTexts = [];
        sellDates.push('2026-01-09 14:30');
        sellPrices.push(145.70);
        sellTexts.push('SAT (%67)');
        sellDates.push('2026-01-15 14:30');
        sellPrices.push(144.30);
        sellTexts.push('SAT (%67)');
        sellDates.push('2026-01-16 14:30');
        sellPrices.push(144.60);
        sellTexts.push('SAT (%67)');
        buyDates.push('2026-01-19 14:30');
        buyPrices.push(148.20);
        buyTexts.push('AL (%67)');
        buyDates.push('2026-01-21 14:30');
        buyPrices.push(150.90);
        buyTexts.push('GÃ¼Ã§lÃ¼ AL (%82)');
        buyDates.push('2026-01-26 14:30');
        buyPrices.push(151.00);
        buyTexts.push('AL (%67)');
        sellDates.push('2026-01-27 14:30');
        sellPrices.push(147.10);
        sellTexts.push('SAT (%67)');
        buyDates.push('2026-01-28 14:30');
        buyPrices.push(151.20);
        buyTexts.push('AL (%67)');
        buyDates.push('2026-01-29 14:30');
        buyPrices.push(157.40);
        buyTexts.push('AL (%67)');
        buyDates.push('2026-01-30 14:30');
        buyPrices.push(161.00);
        buyTexts.push('GÃ¼Ã§lÃ¼ AL (%82)');
        buyDates.push('2026-02-02 14:30');
        buyPrices.push(160.00);
        buyTexts.push('GÃ¼Ã§lÃ¼ AL (%82)');
        buyDates.push('2026-02-03 14:30');
        buyPrices.push(165.70);
        buyTexts.push('GÃ¼Ã§lÃ¼ AL (%82)');
        buyDates.push('2026-02-04 14:30');
        buyPrices.push(162.10);
        buyTexts.push('AL (%67)');
        sellDates.push('2026-02-05 14:30');
        sellPrices.push(154.00);
        sellTexts.push('GÃ¼Ã§lÃ¼ SAT (%82)');
        sellDates.push('2026-02-06 15:00');
        sellPrices.push(154.80);
        sellTexts.push('SAT (%67)');

        // Price chart traces
        var tracePrice = {
            x: dates,
            y: prices,
            customdata: dailyChanges,
            type: 'scatter',
            mode: 'lines',
            name: 'KapanÄ±ÅŸ FiyatÄ±',
            line: { color: '#1a1a1a', width: 2 },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>Fiyat: %{y:.2f} TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: %{customdata:.2f}%<extra></extra>',
            yaxis: 'y'
        };

        var traceSMA20 = {
            x: dates,
            y: sma20,
            type: 'scatter',
            mode: 'lines',
            name: 'SMA20',
            line: { color: '#4285F4', width: 1.5, dash: 'dot' },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>SMA20: %{y:.2f} TL<extra></extra>',
            yaxis: 'y'
        };

        var traceSMA50 = {
            x: dates,
            y: sma50,
            type: 'scatter',
            mode: 'lines',
            name: 'SMA50',
            line: { color: '#FBBC05', width: 1.5, dash: 'dot' },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>SMA50: %{y:.2f} TL<extra></extra>',
            yaxis: 'y'
        };

        var traceEMA12 = {
            x: dates,
            y: ema12,
            type: 'scatter',
            mode: 'lines',
            name: 'EMA12',
            line: { color: '#34D399', width: 1.5, dash: 'dash' },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>EMA12: %{y:.2f} TL<extra></extra>',
            yaxis: 'y'
        };

        var signalLine = [];
        for (let i = 0; i < buyDates.length; i++) {
            signalLine.push({date: buyDates[i], price: buyPrices[i], type: 'BUY'});
        }
        for (let i = 0; i < sellDates.length; i++) {
            signalLine.push({date: sellDates[i], price: sellPrices[i], type: 'SELL'});
        }
        signalLine.sort((a, b) => new Date(a.date) - new Date(b.date));
        var signalLineX = signalLine.map(p => p.date);
        var signalLineY = signalLine.map(p => p.price);

        var traceSignalLine = {
            x: signalLineX,
            y: signalLineY,
            type: 'scatter',
            mode: 'lines+markers',
            name: 'Sinyal FiyatÄ± (Turuncu)',
            line: { color: '#F97316', width: 2, dash: 'solid' },
            marker: { color: '#F97316', size: 6 },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>Sinyal FiyatÄ±: %{y:.2f} TL<extra></extra>',
            yaxis: 'y'
        };

        var traceBuySignals = {
            x: buyDates,
            y: buyPrices,
            text: buyTexts,
            type: 'scatter',
            mode: 'markers',
            name: 'AL Sinyali',
            marker: { color: '#22C55E', size: 12, symbol: 'triangle-up', line: { color: '#fff', width: 2 } },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>Fiyat: %{y:.2f} TL<br>%{text}<extra></extra>',
            yaxis: 'y'
        };

        var traceSellSignals = {
            x: sellDates,
            y: sellPrices,
            text: sellTexts,
            type: 'scatter',
            mode: 'markers',
            name: 'SAT Sinyali',
            marker: { color: '#EF4444', size: 12, symbol: 'triangle-down', line: { color: '#fff', width: 2 } },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>Fiyat: %{y:.2f} TL<br>%{text}<extra></extra>',
            yaxis: 'y'
        };

        // RSI chart trace
        var traceRSI = {
            x: dates,
            y: rsi,
            type: 'scatter',
            mode: 'lines',
            name: 'RSI(14)',
            line: { color: '#A855F7', width: 2 },
            hovertemplate: '<b>%{x}</b><br>RSI: %{y:.1f}<extra></extra>',
            yaxis: 'y2',
            xaxis: 'x'
        };

        var traceRSI70 = {
            x: dates,
            y: Array(dates.length).fill(70),
            type: 'scatter',
            mode: 'lines',
            name: 'RSI 70 (AÅŸÄ±rÄ± AlÄ±m)',
            line: { color: '#EF4444', width: 1, dash: 'dash' },
            showlegend: false,
            hoverinfo: 'skip',
            yaxis: 'y2',
            xaxis: 'x'
        };

        var traceRSI30 = {
            x: dates,
            y: Array(dates.length).fill(30),
            type: 'scatter',
            mode: 'lines',
            name: 'RSI 30 (AÅŸÄ±rÄ± SatÄ±ÅŸ)',
            line: { color: '#22C55E', width: 1, dash: 'dash' },
            showlegend: false,
            hoverinfo: 'skip',
            yaxis: 'y2',
            xaxis: 'x'
        };

        // Layout configuration
        var layout = {
            title: {
                text: 'GARAN - Son 586 GÃ¼nlÃ¼k Teknik Analiz',
                font: { size: 18, color: '#1a1a1a' }
            },
            xaxis: {
                title: 'Tarih',
                type: 'date',
                tickformat: '%Y-%m',
                nticks: 12,
                showgrid: true,
                gridcolor: '#e5e5e5'
            },
            yaxis: {
                title: 'Fiyat (â‚º)',
                domain: [0.3, 1],
                showgrid: true,
                gridcolor: '#e5e5e5'
            },
            yaxis2: {
                title: 'RSI',
                domain: [0, 0.25],
                range: [0, 100],
                showgrid: true,
                gridcolor: '#e5e5e5'
            },
            hovermode: 'closest',
            plot_bgcolor: '#fafafa',
            paper_bgcolor: '#ffffff',
            font: { family: 'Segoe UI, Arial', size: 12 },
            legend: {
                x: 0,
                y: 1.1,
                orientation: 'h',
                bgcolor: 'rgba(255,255,255,0.9)',
                bordercolor: '#e5e5e5',
                borderwidth: 1
            },
            margin: { t: 100, b: 80, l: 80, r: 50 }
        };

        var config = {
            responsive: true,
            displayModeBar: true,
            displaylogo: false,
            modeBarButtonsToRemove: ['toImage', 'sendDataToCloud'],
            locale: 'tr'
        };

        // Render chart
        var data = [tracePrice, traceSignalLine, traceSMA20, traceSMA50, traceEMA12, traceBuySignals, traceSellSignals, traceRSI, traceRSI70, traceRSI30];
        Plotly.newPlot('chart', data, layout, config);
    </script>
</body>
</html>
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PGSUS - Teknik Analiz</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <style>
        body { margin: 0; padding: 20px; background: #f5f5f5; font-family: 'Segoe UI', Arial, sans-serif; }
        .chart-container { background: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        h2 { margin: 0 0 20px 0; color: #1a1a1a; font-size: 24px; }
    </style>
</head>
<body>
    <div class="chart-container">
        <h2>ðŸ“Š PGSUS - Teknik Analiz GrafiÄŸi</h2>
        <div id="chart" style="width:100%; height:800px;"></div>
    </div>
    <script>
        // Data preparation (daily aggregated)
        var dates = ['2025-11-24', '2025-11-25', '2025-11-26', '2025-11-27', '2025-11-28', '2025-12-01', '2025-12-02', '2025-12-03', '2025-12-04', '2025-12-05', '2025-12-08', '2025-12-09', '2025-12-10', '2025-12-11', '2025-12-12', '2025-12-15', '2025-12-16', '2025-12-17', '2025-12-18', '2025-12-19', '2025-12-22', '2025-12-23', '2025-12-24', '2025-12-25', '2025-12-26', '2025-12-29', '2025-12-30', '2025-12-31', '2026-01-02', '2026-01-05', '2026-01-06', '2026-01-07', '2026-01-08', '2026-01-09', '2026-01-12', '2026-01-13', '2026-01-14', '2026-01-15', '2026-01-16', '2026-01-19', '2026-01-20', '2026-01-21', '2026-01-22', '2026-01-23', '2026-01-26', '2026-01-27', '2026-01-28', '2026-01-29', '2026-01-30', '2026-02-03', '2026-02-04', '2026-02-05', '2026-02-06', '2026-02-09', '2026-02-10', '2026-02-11', '2026-02-12', '2026-02-13', '2026-02-16', '2026-02-17', '2026-02-18', '2026-02-19', '2026-02-20', '2026-02-23', '2026-02-24']

        var prices = [207.30, 205.00, 204.70, 203.50, 200.80, 204.00, 205.20, 202.70, 199.00, 195.60, 203.50, 202.80, 204.10, 202.90, 204.40, 206.70, 207.90, 209.20, 211.40, 213.20, 210.00, 206.90, 207.10, 207.10, 204.20, 195.90, 192.20, 192.30, 195.00, 198.20, 206.70, 205.50, 206.40, 204.40, 204.80, 202.10, 196.50, 198.40, 202.40, 204.20, 198.90, 198.80, 201.90, 202.80, 201.10, 197.60, 200.30, 202.20, 203.30, 206.50, 208.40, 206.40, 203.60, 209.80, 207.70, 207.90, 218.90, 217.80, 224.60, 222.00, 213.10, 202.80, 203.60, 203.50, 201.00];

        var opens = [207.30, 205.10, 205.00, 205.10, 202.90, 200.40, 205.00, 206.50, 202.40, 197.60, 200.00, 203.50, 202.70, 203.20, 203.30, 205.60, 208.00, 207.20, 209.70, 211.50, 215.50, 209.00, 207.10, 207.30, 206.60, 203.40, 195.70, 193.00, 192.60, 195.50, 199.00, 207.70, 205.20, 209.70, 204.70, 204.50, 201.90, 197.20, 201.50, 203.50, 203.10, 199.80, 201.70, 203.50, 202.20, 201.40, 197.50, 200.50, 202.00, 204.00, 211.00, 207.30, 205.00, 209.00, 209.50, 206.30, 208.20, 217.50, 220.30, 223.70, 223.30, 212.30, 202.90, 208.00, 203.00];

        var highs = [208.40, 209.40, 205.90, 206.30, 204.30, 204.50, 206.60, 207.70, 204.30, 198.90, 204.30, 203.90, 205.70, 205.00, 206.20, 207.70, 209.20, 210.10, 214.40, 214.00, 215.70, 209.30, 207.70, 208.30, 206.60, 203.40, 196.30, 195.50, 196.00, 198.40, 207.20, 209.30, 207.20, 210.20, 206.20, 204.80, 202.30, 200.40, 204.10, 205.70, 203.20, 200.80, 202.50, 205.60, 204.00, 202.20, 201.60, 205.00, 204.00, 207.80, 211.40, 208.20, 205.40, 210.40, 211.50, 209.30, 221.10, 221.50, 226.10, 224.90, 224.10, 212.80, 204.90, 208.40, 203.20];

        var lows = [206.40, 203.50, 204.30, 203.40, 200.60, 200.10, 204.20, 202.20, 198.80, 195.00, 199.20, 202.00, 202.50, 201.90, 203.30, 203.70, 206.50, 205.50, 209.20, 210.70, 209.20, 206.10, 205.10, 206.60, 203.50, 195.70, 192.00, 192.10, 192.50, 194.10, 199.00, 204.00, 201.20, 203.40, 203.10, 200.10, 195.90, 195.70, 200.40, 202.10, 198.60, 197.80, 199.00, 202.70, 200.00, 197.40, 197.50, 199.70, 199.40, 203.90, 205.90, 204.90, 200.90, 207.70, 207.20, 205.20, 208.20, 216.70, 219.90, 219.60, 212.20, 201.90, 200.60, 202.30, 199.70];

        var volumes = [5312820, 23411841, 10056589, 13461181, 16547265, 13875389, 13758998, 23604185, 17183815, 14304410, 26980828, 10283757, 18652981, 13496470, 12929046, 14510667, 15072637, 15163853, 19740587, 11532958, 12884607, 9424660, 9222342, 4588976, 6257389, 16241874, 15366020, 11358050, 11436375, 15907397, 22332536, 21504598, 15533734, 18964171, 17995810, 17563117, 14355108, 18341636, 23244515, 23180560, 18010231, 17038483, 19690849, 20063598, 19230263, 20980531, 29506923, 39204527, 31902338, 33139042, 34737828, 25156609, 24573188, 26538319, 25645538, 26231208, 55336407, 42886355, 43566883, 40347599, 50550584, 36739888, 27562582, 20108040, 11153365];

        var dailyChanges = [0.00, -1.11, -0.15, -0.59, -1.33, 1.59, 0.59, -1.22, -1.83, -1.71, 4.04, -0.34, 0.64, -0.59, 0.74, 1.13, 0.58, 0.63, 1.05, 0.85, -1.50, -1.48, 0.10, 0.00, -1.40, -4.06, -1.89, 0.05, 1.40, 1.64, 4.29, -0.58, 0.44, -0.97, 0.20, -1.32, -2.77, 0.97, 2.02, 0.89, -2.60, -0.05, 1.56, 0.45, -0.84, -1.74, 1.37, 0.95, 0.54, 1.57, 0.92, -0.96, -1.36, 3.05, -1.00, 0.10, 5.29, -0.50, 3.12, -1.16, -4.01, -4.83, 0.39, -0.05, -1.23];

        var closingTimes = ['16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '16:30', '14:13'];

        var signalTypes = ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 'GÃ¼Ã§lÃ¼ SAT (Skor: -10, 3 gÃ¶sterge)', 'GÃ¼Ã§lÃ¼ SAT (Skor: -8, 4 gÃ¶sterge)', 'GÃ¼Ã§lÃ¼ SAT (Skor: -9, 3 gÃ¶sterge)', '', 'GÃ¼Ã§lÃ¼ AL (Skor: 9, 3 gÃ¶sterge)', 'GÃ¼Ã§lÃ¼ AL (Skor: 12, 4 gÃ¶sterge)', 'AL (Skor: 8, 2 gÃ¶sterge)', '', '', '', '', 'GÃ¼Ã§lÃ¼ SAT (Skor: -12, 4 gÃ¶sterge)', 'SAT (Skor: -8, 2 gÃ¶sterge)', 'AL (Skor: 7, 2 gÃ¶sterge)', 'AL (Skor: 8, 2 gÃ¶sterge)', '', '', '', 'AL (Skor: 6, 2 gÃ¶sterge)', '', 'GÃ¼Ã§lÃ¼ SAT (Skor: -10, 4 gÃ¶sterge)', '', 'AL (Skor: 5, 2 gÃ¶sterge)', 'GÃ¼Ã§lÃ¼ AL (Skor: 13, 5 gÃ¶sterge)', 'AL (Skor: 8, 2 gÃ¶sterge)', 'GÃ¼Ã§lÃ¼ AL (Skor: 10, 3 gÃ¶sterge)', '', '', 'AL (Skor: 5, 2 gÃ¶sterge)', 'AL (Skor: 6, 2 gÃ¶sterge)', '', 'GÃ¼Ã§lÃ¼ AL (Skor: 10, 3 gÃ¶sterge)', '', 'GÃ¼Ã§lÃ¼ AL (Skor: 6, 3 gÃ¶sterge)', 'AL (Skor: 6, 2 gÃ¶sterge)', 'GÃ¼Ã§lÃ¼ SAT (Skor: -9, 3 gÃ¶sterge)', 'GÃ¼Ã§lÃ¼ SAT (Skor: -12, 4 gÃ¶sterge)', 'SAT (Skor: -8, 2 gÃ¶sterge)', 'SAT (Skor: -6, 2 gÃ¶sterge)', 'GÃ¼Ã§lÃ¼ SAT (Skor: -10, 3 gÃ¶sterge)'];

        var dayNames = ['Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'Cuma', 'Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'Pazartesi', 'SalÄ±'];

        var sma20 = [null, null, 205.34, 204.57, 203.60, 202.93, 203.63, 204.55, 203.29, 199.89, 199.88, 201.50, 203.45, 203.44, 203.96, 204.91, 206.32, 207.03, 209.03, 211.51, 212.26, 210.41, 207.85, 207.02, 205.88, 202.42, 197.45, 194.03, 193.70, 195.07, 199.37, 204.12, 205.58, 204.93, 204.94, 203.73, 201.27, 198.82, 199.25, 201.80, 202.49, 200.96, 200.12, 201.72, 202.31, 200.97, 199.86, 200.42, 201.47, 203.81, 206.10, 207.10, 205.65, 206.12, 207.91, 208.84, 210.28, 214.29, 220.48, 221.99, 221.41, 214.03, 206.56, 203.62, 202.96];

        var sma50 = [null, null, null, null, null, null, 204.24, 204.10, 203.46, 202.26, 202.22, 202.32, 202.15, 201.90, 202.26, 203.62, 204.66, 205.26, 206.64, 208.11, 209.38, 209.68, 209.58, 209.73, 208.56, 206.29, 203.20, 200.76, 198.83, 197.13, 197.04, 198.19, 199.73, 201.66, 203.43, 204.39, 203.81, 202.24, 201.90, 201.65, 201.07, 200.45, 200.64, 201.69, 201.82, 201.13, 200.74, 201.16, 201.38, 201.87, 202.76, 203.89, 204.45, 205.72, 206.94, 207.36, 208.33, 210.08, 213.37, 215.60, 217.24, 216.70, 215.48, 213.24, 210.67];

        var ema12 = [null, 205.69, 205.02, 204.17, 202.80, 202.97, 204.77, 204.13, 201.55, 197.77, 201.84, 202.50, 203.66, 203.34, 204.09, 205.82, 206.99, 207.07, 210.68, 212.40, 211.69, 208.46, 207.03, 207.32, 204.93, 199.65, 194.82, 193.46, 194.36, 196.28, 202.56, 205.78, 204.50, 204.88, 205.02, 202.60, 199.32, 198.07, 200.75, 203.26, 201.67, 199.42, 200.65, 202.97, 201.73, 199.52, 199.95, 201.49, 201.90, 205.28, 207.11, 206.80, 204.06, 207.69, 208.64, 208.30, 213.00, 216.78, 222.59, 221.45, 219.41, 208.09, 204.31, 204.32, 202.33];

        var rsi = [null, null, 42.11, 36.37, 27.21, 53.21, 56.49, 39.67, 26.31, 19.63, 60.31, 55.28, 57.71, 48.79, 55.31, 64.30, 66.08, 67.71, 63.40, 66.91, 43.08, 34.33, 43.11, 43.48, 32.40, 14.32, 17.80, 27.54, 47.42, 63.24, 82.68, 61.40, 61.48, 50.56, 50.90, 43.68, 25.47, 44.27, 58.37, 61.82, 37.60, 41.51, 55.42, 52.77, 46.47, 32.75, 49.82, 56.29, 59.23, 64.00, 64.05, 51.74, 44.46, 63.81, 49.47, 49.55, 81.13, 71.72, 73.23, 59.09, 29.36, 16.98, 34.37, 35.58, 30.98];

        // BUY/SELL signals (4 types)
        var alDates = [], alPrices = [], alTexts = [];
        var strongAlDates = [], strongAlPrices = [], strongAlTexts = [];
        var satDates = [], satPrices = [], satTexts = [];
        var strongSatDates = [], strongSatPrices = [], strongSatTexts = [];
        strongSatDates.push('2025-12-29');
        strongSatPrices.push(195.90);
        strongSatTexts.push('<b>Tarih: 2025-12-29 (Pazartesi)</b><br>AÃ§Ä±lÄ±ÅŸ: 203.40 TL<br>KapanÄ±ÅŸ: 195.90 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -4.06%<br>KapanÄ±ÅŸ Saati: 16:30<br>Sinyal: GÃ¼Ã§lÃ¼ SAT (Skor: -10, 3 gÃ¶sterge)');
        strongSatDates.push('2025-12-30');
        strongSatPrices.push(192.20);
        strongSatTexts.push('<b>Tarih: 2025-12-30 (SalÄ±)</b><br>AÃ§Ä±lÄ±ÅŸ: 195.70 TL<br>KapanÄ±ÅŸ: 192.20 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -1.89%<br>KapanÄ±ÅŸ Saati: 16:30<br>Sinyal: GÃ¼Ã§lÃ¼ SAT (Skor: -8, 4 gÃ¶sterge)');
        strongSatDates.push('2025-12-31');
        strongSatPrices.push(192.30);
        strongSatTexts.push('<b>Tarih: 2025-12-31 (Ã‡arÅŸamba)</b><br>AÃ§Ä±lÄ±ÅŸ: 193.00 TL<br>KapanÄ±ÅŸ: 192.30 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 0.05%<br>KapanÄ±ÅŸ Saati: 16:30<br>Sinyal: GÃ¼Ã§lÃ¼ SAT (Skor: -9, 3 gÃ¶sterge)');
        strongAlDates.push('2026-01-05');
        strongAlPrices.push(198.20);
        strongAlTexts.push('<b>Tarih: 2026-01-05 (Pazartesi)</b><br>AÃ§Ä±lÄ±ÅŸ: 195.50 TL<br>KapanÄ±ÅŸ: 198.20 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 1.64%<br>KapanÄ±ÅŸ Saati: 16:30<br>Sinyal: GÃ¼Ã§lÃ¼ AL (Skor: 9, 3 gÃ¶sterge)');
        strongAlDates.push('2026-01-06');
        strongAlPrices.push(206.70);
        strongAlTexts.push('<b>Tarih: 2026-01-06 (SalÄ±)</b><br>AÃ§Ä±lÄ±ÅŸ: 199.00 TL<br>KapanÄ±ÅŸ: 206.70 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 4.29%<br>KapanÄ±ÅŸ Saati: 16:30<br>Sinyal: GÃ¼Ã§lÃ¼ AL (Skor: 12, 4 gÃ¶sterge)');
        alDates.push('2026-01-07');
        alPrices.push(205.50);
        alTexts.push('<b>Tarih: 2026-01-07 (Ã‡arÅŸamba)</b><br>AÃ§Ä±lÄ±ÅŸ: 207.70 TL<br>KapanÄ±ÅŸ: 205.50 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -0.58%<br>KapanÄ±ÅŸ Saati: 16:30<br>Sinyal: AL (Skor: 8, 2 gÃ¶sterge)');
        strongSatDates.push('2026-01-14');
        strongSatPrices.push(196.50);
        strongSatTexts.push('<b>Tarih: 2026-01-14 (Ã‡arÅŸamba)</b><br>AÃ§Ä±lÄ±ÅŸ: 201.90 TL<br>KapanÄ±ÅŸ: 196.50 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -2.77%<br>KapanÄ±ÅŸ Saati: 16:30<br>Sinyal: GÃ¼Ã§lÃ¼ SAT (Skor: -12, 4 gÃ¶sterge)');
        satDates.push('2026-01-15');
        satPrices.push(198.40);
        satTexts.push('<b>Tarih: 2026-01-15 (PerÅŸembe)</b><br>AÃ§Ä±lÄ±ÅŸ: 197.20 TL<br>KapanÄ±ÅŸ: 198.40 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 0.97%<br>KapanÄ±ÅŸ Saati: 16:30<br>Sinyal: SAT (Skor: -8, 2 gÃ¶sterge)');
        alDates.push('2026-01-16');
        alPrices.push(202.40);
        alTexts.push('<b>Tarih: 2026-01-16 (Cuma)</b><br>AÃ§Ä±lÄ±ÅŸ: 201.50 TL<br>KapanÄ±ÅŸ: 202.40 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 2.02%<br>KapanÄ±ÅŸ Saati: 16:30<br>Sinyal: AL (Skor: 7, 2 gÃ¶sterge)');
        alDates.push('2026-01-19');
        alPrices.push(204.20);
        alTexts.push('<b>Tarih: 2026-01-19 (Pazartesi)</b><br>AÃ§Ä±lÄ±ÅŸ: 203.50 TL<br>KapanÄ±ÅŸ: 204.20 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 0.89%<br>KapanÄ±ÅŸ Saati: 16:30<br>Sinyal: AL (Skor: 8, 2 gÃ¶sterge)');
        alDates.push('2026-01-23');
        alPrices.push(202.80);
        alTexts.push('<b>Tarih: 2026-01-23 (Cuma)</b><br>AÃ§Ä±lÄ±ÅŸ: 203.50 TL<br>KapanÄ±ÅŸ: 202.80 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 0.45%<br>KapanÄ±ÅŸ Saati: 16:30<br>Sinyal: AL (Skor: 6, 2 gÃ¶sterge)');
        strongSatDates.push('2026-01-27');
        strongSatPrices.push(197.60);
        strongSatTexts.push('<b>Tarih: 2026-01-27 (SalÄ±)</b><br>AÃ§Ä±lÄ±ÅŸ: 201.40 TL<br>KapanÄ±ÅŸ: 197.60 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -1.74%<br>KapanÄ±ÅŸ Saati: 16:30<br>Sinyal: GÃ¼Ã§lÃ¼ SAT (Skor: -10, 4 gÃ¶sterge)');
        alDates.push('2026-01-29');
        alPrices.push(202.20);
        alTexts.push('<b>Tarih: 2026-01-29 (PerÅŸembe)</b><br>AÃ§Ä±lÄ±ÅŸ: 200.50 TL<br>KapanÄ±ÅŸ: 202.20 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 0.95%<br>KapanÄ±ÅŸ Saati: 16:30<br>Sinyal: AL (Skor: 5, 2 gÃ¶sterge)');
        strongAlDates.push('2026-01-30');
        strongAlPrices.push(203.30);
        strongAlTexts.push('<b>Tarih: 2026-01-30 (Cuma)</b><br>AÃ§Ä±lÄ±ÅŸ: 202.00 TL<br>KapanÄ±ÅŸ: 203.30 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 0.54%<br>KapanÄ±ÅŸ Saati: 16:30<br>Sinyal: GÃ¼Ã§lÃ¼ AL (Skor: 13, 5 gÃ¶sterge)');
        alDates.push('2026-02-03');
        alPrices.push(206.50);
        alTexts.push('<b>Tarih: 2026-02-03 (SalÄ±)</b><br>AÃ§Ä±lÄ±ÅŸ: 204.00 TL<br>KapanÄ±ÅŸ: 206.50 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 1.57%<br>KapanÄ±ÅŸ Saati: 16:30<br>Sinyal: AL (Skor: 8, 2 gÃ¶sterge)');
        strongAlDates.push('2026-02-04');
        strongAlPrices.push(208.40);
        strongAlTexts.push('<b>Tarih: 2026-02-04 (Ã‡arÅŸamba)</b><br>AÃ§Ä±lÄ±ÅŸ: 211.00 TL<br>KapanÄ±ÅŸ: 208.40 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 0.92%<br>KapanÄ±ÅŸ Saati: 16:30<br>Sinyal: GÃ¼Ã§lÃ¼ AL (Skor: 10, 3 gÃ¶sterge)');
        alDates.push('2026-02-09');
        alPrices.push(209.80);
        alTexts.push('<b>Tarih: 2026-02-09 (Pazartesi)</b><br>AÃ§Ä±lÄ±ÅŸ: 209.00 TL<br>KapanÄ±ÅŸ: 209.80 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 3.05%<br>KapanÄ±ÅŸ Saati: 16:30<br>Sinyal: AL (Skor: 5, 2 gÃ¶sterge)');
        alDates.push('2026-02-10');
        alPrices.push(207.70);
        alTexts.push('<b>Tarih: 2026-02-10 (SalÄ±)</b><br>AÃ§Ä±lÄ±ÅŸ: 209.50 TL<br>KapanÄ±ÅŸ: 207.70 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -1.00%<br>KapanÄ±ÅŸ Saati: 16:30<br>Sinyal: AL (Skor: 6, 2 gÃ¶sterge)');
        strongAlDates.push('2026-02-12');
        strongAlPrices.push(218.90);
        strongAlTexts.push('<b>Tarih: 2026-02-12 (PerÅŸembe)</b><br>AÃ§Ä±lÄ±ÅŸ: 208.20 TL<br>KapanÄ±ÅŸ: 218.90 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 5.29%<br>KapanÄ±ÅŸ Saati: 16:30<br>Sinyal: GÃ¼Ã§lÃ¼ AL (Skor: 10, 3 gÃ¶sterge)');
        strongAlDates.push('2026-02-16');
        strongAlPrices.push(224.60);
        strongAlTexts.push('<b>Tarih: 2026-02-16 (Pazartesi)</b><br>AÃ§Ä±lÄ±ÅŸ: 220.30 TL<br>KapanÄ±ÅŸ: 224.60 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 3.12%<br>KapanÄ±ÅŸ Saati: 16:30<br>Sinyal: GÃ¼Ã§lÃ¼ AL (Skor: 6, 3 gÃ¶sterge)');
        alDates.push('2026-02-17');
        alPrices.push(222.00);
        alTexts.push('<b>Tarih: 2026-02-17 (SalÄ±)</b><br>AÃ§Ä±lÄ±ÅŸ: 223.70 TL<br>KapanÄ±ÅŸ: 222.00 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -1.16%<br>KapanÄ±ÅŸ Saati: 16:30<br>Sinyal: AL (Skor: 6, 2 gÃ¶sterge)');
        strongSatDates.push('2026-02-18');
        strongSatPrices.push(213.10);
        strongSatTexts.push('<b>Tarih: 2026-02-18 (Ã‡arÅŸamba)</b><br>AÃ§Ä±lÄ±ÅŸ: 223.30 TL<br>KapanÄ±ÅŸ: 213.10 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -4.01%<br>KapanÄ±ÅŸ Saati: 16:30<br>Sinyal: GÃ¼Ã§lÃ¼ SAT (Skor: -9, 3 gÃ¶sterge)');
        strongSatDates.push('2026-02-19');
        strongSatPrices.push(202.80);
        strongSatTexts.push('<b>Tarih: 2026-02-19 (PerÅŸembe)</b><br>AÃ§Ä±lÄ±ÅŸ: 212.30 TL<br>KapanÄ±ÅŸ: 202.80 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -4.83%<br>KapanÄ±ÅŸ Saati: 16:30<br>Sinyal: GÃ¼Ã§lÃ¼ SAT (Skor: -12, 4 gÃ¶sterge)');
        satDates.push('2026-02-20');
        satPrices.push(203.60);
        satTexts.push('<b>Tarih: 2026-02-20 (Cuma)</b><br>AÃ§Ä±lÄ±ÅŸ: 202.90 TL<br>KapanÄ±ÅŸ: 203.60 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: 0.39%<br>KapanÄ±ÅŸ Saati: 16:30<br>Sinyal: SAT (Skor: -8, 2 gÃ¶sterge)');
        satDates.push('2026-02-23');
        satPrices.push(203.50);
        satTexts.push('<b>Tarih: 2026-02-23 (Pazartesi)</b><br>AÃ§Ä±lÄ±ÅŸ: 208.00 TL<br>KapanÄ±ÅŸ: 203.50 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -0.05%<br>KapanÄ±ÅŸ Saati: 16:30<br>Sinyal: SAT (Skor: -6, 2 gÃ¶sterge)');
        strongSatDates.push('2026-02-24');
        strongSatPrices.push(201.00);
        strongSatTexts.push('<b>Tarih: 2026-02-24 (SalÄ±)</b><br>AÃ§Ä±lÄ±ÅŸ: 203.00 TL<br>KapanÄ±ÅŸ: 201.00 TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: -1.23%<br>KapanÄ±ÅŸ Saati: 14:13<br>Sinyal: GÃ¼Ã§lÃ¼ SAT (Skor: -10, 3 gÃ¶sterge)');

        // Build custom data for hover template
        var customdata = [];
        for (let i = 0; i < dates.length; i++) {
            customdata.push([opens[i], dailyChanges[i], closingTimes[i], signalTypes[i], dayNames[i], volumes[i]]);
        }

        // Price chart traces
        var tracePrice = {
            x: dates,
            y: prices,
            customdata: customdata,
            type: 'scatter',
            mode: 'lines',
            name: 'KapanÄ±ÅŸ FiyatÄ±',
            line: { color: '#1a1a1a', width: 2 },
            hovertemplate: '<b>Tarih: %{x} (%{customdata[4]})</b><br>AÃ§Ä±lÄ±ÅŸ: %{customdata[0]:.2f} TL<br>KapanÄ±ÅŸ: %{y:.2f} TL<br>GÃ¼nlÃ¼k DeÄŸiÅŸim: %{customdata[1]:.2f}%<br>KapanÄ±ÅŸ Saati: %{customdata[2]}<br>GÃ¼nlÃ¼k Hacim: %{customdata[5]:,.0f}<br>Sinyal: %{customdata[3]}<extra></extra>',
            yaxis: 'y'
        };

        var traceSMA20 = {
            x: dates,
            y: sma20,
            type: 'scatter',
            mode: 'lines',
            name: 'SMA20',
            line: { color: '#4285F4', width: 1.5, dash: 'dot' },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>SMA20: %{y:.2f} TL<extra></extra>',
            visible: false,
            yaxis: 'y'
        };

        var traceSMA50 = {
            x: dates,
            y: sma50,
            type: 'scatter',
            mode: 'lines',
            name: 'SMA50',
            line: { color: '#FBBC05', width: 1.5, dash: 'dot' },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>SMA50: %{y:.2f} TL<extra></extra>',
            visible: false,
            yaxis: 'y'
        };

        var traceEMA12 = {
            x: dates,
            y: ema12,
            type: 'scatter',
            mode: 'lines',
            name: 'EMA12',
            line: { color: '#34D399', width: 1.5, dash: 'dash' },
            hovertemplate: '<b>%{x|%Y-%m-%d %H:%M}</b><br>EMA12: %{y:.2f} TL<extra></extra>',
            visible: false,
            yaxis: 'y'
        };

        var traceAlSignals = {
            x: alDates,
            y: alPrices,
            text: alTexts,
            type: 'scatter',
            mode: 'markers',
            name: 'AL Sinyali',
            marker: { color: '#4ADE80', size: 12, symbol: 'triangle-up', line: { color: '#fff', width: 2 } },
            hovertemplate: '%{text}<extra></extra>',
            yaxis: 'y'
        };

        var traceStrongAlSignals = {
            x: strongAlDates,
            y: strongAlPrices,
            text: strongAlTexts,
            type: 'scatter',
            mode: 'markers',
            name: 'GÃœÃ‡LÃœ AL Sinyali',
            marker: { color: '#15803D', size: 13, symbol: 'triangle-up', line: { color: '#fff', width: 2 } },
            hovertemplate: '%{text}<extra></extra>',
            yaxis: 'y'
        };

        var traceSatSignals = {
            x: satDates,
            y: satPrices,
            text: satTexts,
            type: 'scatter',
            mode: 'markers',
            name: 'SAT Sinyali',
            marker: { color: '#FB7185', size: 12, symbol: 'triangle-down', line: { color: '#fff', width: 2 } },
            hovertemplate: '%{text}<extra></extra>',
            yaxis: 'y'
        };

        var traceStrongSatSignals = {
            x: strongSatDates,
            y: strongSatPrices,
            text: strongSatTexts,
            type: 'scatter',
            mode: 'markers',
            name: 'GÃœÃ‡LÃœ SAT Sinyali',
            marker: { color: '#991B1B', size: 13, symbol: 'triangle-down', line: { color: '#fff', width: 2 } },
            hovertemplate: '%{text}<extra></extra>',
            yaxis: 'y'
        };

        // RSI chart trace (hidden)
        var traceRSI = {
            x: dates,
            y: rsi,
            type: 'scatter',
            mode: 'lines',
            name: 'RSI(14)',
            line: { color: '#A855F7', width: 2 },
            hovertemplate: '<b>%{x}</b><br>RSI: %{y:.1f}<extra></extra>',
            visible: false,
            showlegend: false,
            yaxis: 'y2',
            xaxis: 'x'
        };

        var traceVolume = {
            x: dates,
            y: volumes,
            type: 'bar',
            mode: 'markers',
            name: 'Hacim',
            marker: { color: 'rgba(68, 85, 102, 0.5)' },
            hovertemplate: '<b>Tarih: %{x|%Y-%m-%d}</b><br>Hacim: %{y:,.0f}<extra></extra>',
            visible: true,
            yaxis: 'y2',
            xaxis: 'x'
        };

        var traceRSI70 = {
            x: dates,
            y: Array(dates.length).fill(70),
            type: 'scatter',
            mode: 'lines',
            name: 'RSI 70 (AÅŸÄ±rÄ± AlÄ±m)',
            line: { color: '#EF4444', width: 1, dash: 'dash' },
            visible: false,
            showlegend: false,
            hoverinfo: 'skip',
            yaxis: 'y2',
            xaxis: 'x'
        };

        var traceRSI30 = {
            x: dates,
            y: Array(dates.length).fill(30),
            type: 'scatter',
            mode: 'lines',
            name: 'RSI 30 (AÅŸÄ±rÄ± SatÄ±ÅŸ)',
            line: { color: '#22C55E', width: 1, dash: 'dash' },
            visible: false,
            showlegend: false,
            hoverinfo: 'skip',
            yaxis: 'y2',
            xaxis: 'x'
        };

        // Layout configuration
        var layout = {
            title: {
                text: 'PGSUS - Teknik Analiz',
                font: { size: 18, color: '#1a1a1a' }
            },
            xaxis: {
                title: 'Tarih',
                type: 'date',
                tickformat: '%Y-%m',
                nticks: 12,
                showgrid: true,
                gridcolor: '#e5e5e5'
            },
            yaxis: {
                title: 'Fiyat (â‚º)',
                domain: [0.3, 1],
                showgrid: true,
                gridcolor: '#e5e5e5'
            },
            yaxis2: {
                title: 'Hacim',
                domain: [0, 0.25],
                showgrid: true,
                gridcolor: '#e5e5e5'
            },
            hovermode: 'closest',
            plot_bgcolor: '#fafafa',
            paper_bgcolor: '#ffffff',
            font: { family: 'Segoe UI, Arial', size: 12 },
            legend: {
                x: 0,
                y: 1.1,
                orientation: 'h',
                bgcolor: 'rgba(255,255,255,0.9)',
                bordercolor: '#e5e5e5',
                borderwidth: 1
            },
            margin: { t: 100, b: 80, l: 80, r: 50 }
        };

        var config = {
            responsive: true,
            displayModeBar: true,
            displaylogo: false,
            modeBarButtonsToRemove: ['toImage', 'sendDataToCloud'],
            locale: 'tr'
        };

        // Render chart
        var data = [tracePrice, traceSMA20, traceSMA50, traceEMA12, traceAlSignals, traceStrongAlSignals, traceSatSignals, traceStrongSatSignals, traceVolume, traceRSI, traceRSI70, traceRSI30];
        Plotly.newPlot('chart', data, layout, config);
    </script>
</body>
</html>